(this["webpackJsonparcherswap-frontend"]=this["webpackJsonparcherswap-frontend"]||[]).push([[43],{1717:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"l",(function(){return O})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"i",(function(){return S})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return C})),n.d(t,"g",(function(){return E}));var a=n(14),r=n(1),c=n.n(r),i=n(7),s=n(17),o=n(0),l=n(11),d=n.n(l),u=n(24),b=n(28),j=n(50),p=n(122),f=n(66),x=n(87),h=function(){var e=Object(o.useState)(new d.a(0)),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(b.useWeb3React)().account,l=Object(f.a)(),u=Object(x.a)().fastRefresh;return Object(o.useEffect)((function(){r&&function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.eth.getBalance(r);case 2:t=e.sent,a(new d.a(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[r,l,u]),n},O=function(){var e=Object(o.useState)(new d.a(0)),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(b.useWeb3React)().account,l=Object(f.a)(),p=Object(x.a)().fastRefresh;return Object(o.useEffect)((function(){r&&function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.d)(u.a.wcore.address[1116],l),e.next=3,t.methods.balanceOf(r).call();case 3:n=e.sent,a(new d.a(n));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[r,l,p]),n},g=function(e,t){var n=Object(o.useState)(new d.a(0)),a=Object(s.a)(n,2),r=a[0],l=a[1],u=Object(b.useWeb3React)().account,p=Object(f.a)(),h=Object(x.a)().fastRefresh;return Object(o.useEffect)((function(){u&&e&&t&&function(){var n=Object(i.a)(c.a.mark((function n(){var a,r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Object(j.d)(e,p),n.next=3,a.methods.allowance(u,t).call();case 3:r=n.sent,l(new d.a(r));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[u,e,p,h,t]),r},v=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(b.useWeb3React)().account,l=Object(f.a)();return{onApprove:Object(o.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t,n){var i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),i=Object(j.d)(n,l),e.next=5,i.methods.approve(t,new d.a(2).pow(256).minus(1).toString(10)).send({from:r});case 5:return s=e.sent,a(!1),e.abrupt("return",s);case 10:return e.prev=10,e.t0=e.catch(0),a(!1),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),[l,r]),approvePending:n}},m=function(e){var t=Object(o.useState)(""),n=Object(s.a)(t,2),a=n[0],r=n[1],l=Object(f.a)(),d=Object(x.a)().fastRefresh;return Object(o.useEffect)((function(){e&&function(){var t=Object(i.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(j.d)(e,l),t.next=3,n.methods.symbol().call();case 3:a=t.sent,r(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,l,d]),a},y=function(e){var t=Object(o.useState)(0),n=Object(s.a)(t,2),a=n[0],r=n[1],l=Object(f.a)(),d=Object(x.a)().fastRefresh;return Object(o.useEffect)((function(){e&&function(){var t=Object(i.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(j.d)(e,l),t.next=3,n.methods.decimals().call();case 3:a=t.sent,r(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[e,l,d]),a},w=function(e){var t=Object(o.useState)([]),n=Object(s.a)(t,2),r=n[0],l=n[1],d=Object(o.useState)(!1),u=Object(s.a)(d,2),p=u[0],h=u[1],O=Object(b.useWeb3React)().account,g=Object(f.a)(),v=Object(x.a)().fastRefresh;return Object(o.useEffect)((function(){O&&e&&function(){var t=Object(i.a)(c.a.mark((function t(){var n,r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h(!0),n=Object(j.i)(e,g),t.next=4,n.methods.tokensOfOwner(O).call();case 4:r=t.sent,s=r.map(function(){var e=Object(i.a)(c.a.mark((function e(t){var r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.methods.tokenURI(t).call();case 2:return r=e.sent,e.next=5,fetch(r);case 5:return i=e.sent,e.next=8,i.json();case 8:return s=e.sent,e.abrupt("return",Object(a.a)({tokenId:t},s));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all(s).then((function(e){return l(e)})),h(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[O,e,g,v]),{isLoading:p,ownedTokensIds:r}},S=function(e,t){var n=Object(o.useState)(new d.a(0)),a=Object(s.a)(n,2),r=a[0],l=a[1],u=Object(b.useWeb3React)().account,f=Object(p.c)(t),h=Object(x.a)().fastRefresh;return Object(o.useEffect)((function(){u&&e&&t&&function(){var t=Object(i.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(j.d)(e,f),t.next=3,n.methods.balanceOf(u).call();case 3:a=t.sent,l(new d.a(a));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[u,e,f,h,t]),r},k=function(e){var t=Object(o.useState)(new d.a(0)),n=Object(s.a)(t,2),a=n[0],r=n[1],l=Object(x.a)().fastRefresh,u=Object(f.a)();return Object(o.useEffect)((function(){(function(){var t=Object(i.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(j.d)(e,u),t.next=3,n.methods.balanceOf("0x000000000000000000000000000000000000dEaD").call();case 3:a=t.sent,r(new d.a(a));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[u,e,l]),a},C=function(){var e=Object(o.useState)(new d.a(0)),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(x.a)().fastRefresh,l=Object(f.a)();return Object(o.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n,r,i,o,l,u,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.e)(),e.next=3,Promise.all([t.methods.totalSupply().call(),t.methods.balanceOf("0x48Db2BD42B1F8B315Ab86C24d29C43fCDa99e984").call(),t.methods.balanceOf("0x7bf76646fbe70b13b72b0b46284f747eec5d0181").call(),t.methods.balanceOf("0x000000000000000000000000000000000000dEaD").call()]);case 3:n=e.sent,r=Object(s.a)(n,4),i=r[0],o=r[1],l=r[2],u=r[3],b=new d.a(o).plus(l).plus(u),a(new d.a(i).minus(b));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l,r]),n},E=function(){var e=Object(o.useState)(0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(x.a)().slowRefresh,l=Object(f.a)();return Object(o.useEffect)((function(){(function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(j.j)(l),e.next=3,t.methods.allPairsLength().call();case 3:n=e.sent,a(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[l,r]),n};t.a=function(e){var t=Object(o.useState)(new d.a(0)),n=Object(s.a)(t,2),a=n[0],r=n[1],l=Object(b.useWeb3React)().account,u=Object(f.a)(),p=Object(x.a)().fastRefresh;return Object(o.useEffect)((function(){l&&e&&function(){var t=Object(i.a)(c.a.mark((function t(){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(j.d)(e,u),t.next=3,n.methods.balanceOf(l).call();case 3:a=t.sent,r(new d.a(a));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[l,e,u,p]),a}},1819:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return x})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return m}));var a=n(1),r=n.n(a),c=n(7),i=n(17),s=n(0),o=n(352),l=n(351),d=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.c.query({query:l.g,variables:{},fetchPolicy:"no-cache"});case 3:t=e.sent,n=t.data,a(n.GetERC721Collections||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Unable to fetch data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[a]),n},u=function(e){var t=Object(s.useState)({}),n=Object(i.a)(t,2),a=n[0],d=n[1];return Object(s.useEffect)((function(){(function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.query({query:Object(l.f)(e),variables:{},fetchPolicy:"no-cache"});case 3:n=t.sent,(a=n.data).GetERC721Collection&&0!==a.GetERC721Collection.length&&d(a.GetERC721Collection[0]),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Unable to fetch data:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),a},b=function(e){var t=Object(s.useState)({}),n=Object(i.a)(t,2),a=n[0],d=n[1];return Object(s.useEffect)((function(){(function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.query({query:Object(l.e)(e),variables:{},fetchPolicy:"no-cache"});case 3:n=t.sent,(a=n.data).GetERC721CollectionAttributes&&d(a.GetERC721CollectionAttributes),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Unable to fetch data:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),a},j={},p=function(e){var t=Object(s.useState)({}),n=Object(i.a)(t,2),a=n[0],d=n[1];return Object(s.useEffect)((function(){j={}}),[]),Object(s.useEffect)((function(){var t=function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.query({query:l.h,variables:{input:e},fetchPolicy:"no-cache"});case 3:n=t.sent,(a=n.data).GetERC721TokenCount&&d(a.GetERC721TokenCount),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Unable to fetch data:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();e.pageSize&&e.filters&&JSON.stringify(e)!==JSON.stringify(j)&&(j=e,t())}),[e]),a},f={},x=function(e){var t=Object(s.useState)({}),n=Object(i.a)(t,2),a=n[0],d=n[1];return Object(s.useEffect)((function(){f={}}),[]),Object(s.useEffect)((function(){var t=function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.query({query:l.j,variables:{input:e},fetchPolicy:"no-cache"});case 3:n=t.sent,(a=n.data).GetERC721Tokens&&d(a.GetERC721Tokens),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Unable to fetch data:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();JSON.stringify(e)!==JSON.stringify(f)&&(f=e,t())}),[e]),a},h={},O=function(e){var t=Object(s.useState)([]),n=Object(i.a)(t,2),a=n[0],d=n[1];return Object(s.useEffect)((function(){h={}}),[]),Object(s.useEffect)((function(){var t=function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.query({query:l.a,variables:{input:e},fetchPolicy:"no-cache"});case 3:n=t.sent,(a=n.data).ERC721RecentEventsLite&&d(a.ERC721RecentEventsLite),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Unable to fetch data:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();e.chainId&&e.tokenAddress&&JSON.stringify(e)!==JSON.stringify(h)&&(h=e,t())}),[e]),a},g=function(e,t){var n=Object(s.useState)({}),a=Object(i.a)(n,2),d=a[0],u=a[1];return Object(s.useEffect)((function(){(function(){var n=Object(c.a)(r.a.mark((function n(){var a,c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.c.query({query:Object(l.i)(e,t),variables:{},fetchPolicy:"no-cache"});case 3:a=n.sent,(c=a.data).GetERC721Token&&u(c.GetERC721Token),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error("Unable to fetch data:",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}})()()}),[e,t]),d},v={},m=function(e){var t=Object(s.useState)([]),n=Object(i.a)(t,2),a=n[0],d=n[1];return Object(s.useEffect)((function(){v={}}),[]),Object(s.useEffect)((function(){var t=function(){var t=Object(c.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.c.query({query:l.b,variables:{input:e},fetchPolicy:"no-cache"});case 3:n=t.sent,(a=n.data).ERC721TokenEvents&&d(a.ERC721TokenEvents),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Unable to fetch data:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();e.chainId&&e.tokenAddress&&JSON.stringify(e)!==JSON.stringify(v)&&(v=e,t())}),[e]),a}},1957:function(e,t,n){"use strict";var a,r=n(16),c=(n(0),n(9)),i=n(10),s=n(100),o=n(2),l=c.default.div(a||(a=Object(r.a)(["\n  display: flex;\n  align-items: center;\n\n  // a {\n  //   margin-right: 24px;\n  // }\n"])));t.a=function(){return Object(o.jsx)(l,{children:Object(o.jsx)(s.a,{to:"/my-nfts",children:Object(o.jsx)(i.l,{children:"My NFTs"})})})}},2928:function(e,t,n){"use strict";n.r(t);var a,r=n(17),c=n(16),i=n(0),s=n(9),o=n(74),l=n(100),d=n(28),u=n(1788),b=n(2899),j=n(1681),p=n(1682),f=n(2950),x=n(2893),h=n(2954),O=n(2),g=Object(s.default)(p.a)(a||(a=Object(c.a)(["\n  border: 1px solid #e0e0e0;\n  border-radius: 20px;\n  box-shadow: 0px 4px 10px rgba(105, 105, 105, 0.15);\n\n  span,\n  a,\n  p {\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.text})),v=function(e){var t=e.collectionInfo;return Object(O.jsx)(g,{children:Object(O.jsxs)(p.a,{sx:{},children:[Object(O.jsx)(f.a,{sx:{py:"16px",px:"24px"},children:"Info"}),Object(O.jsx)(x.a,{}),Object(O.jsx)(p.a,{sx:{display:"flex",gap:"25px",py:"20px",px:"24px"},children:Object(O.jsxs)(p.a,{sx:{display:"flex",gap:{xs:"10px",md:"20px"},boxShadow:"none"},children:[Object(O.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px"},children:[Object(O.jsx)("a",{href:null===t||void 0===t?void 0:t.websiteUrl,rel:"noreferrer",target:"_blank",children:Object(O.jsx)(h.a,{"aria-label":"search",sx:{padding:"0",boxShadow:"none",width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#3960C1",cursor:"pointer",":hover":{backgroundColor:"#3960C1"}},children:Object(O.jsx)("img",{src:"/images/nfts/marketplace/global.svg",alt:"global"})})}),Object(O.jsx)(f.a,{children:"Website"})]}),Object(O.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:"15px"},children:[Object(O.jsx)(h.a,{"aria-label":"search",sx:{padding:"0",boxShadow:"none",width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"#3960C1",cursor:"pointer",":hover":{backgroundColor:"#3960C1"}},children:Object(O.jsx)("a",{href:"https://scan.coredao.org/address/".concat(null===t||void 0===t?void 0:t.address),rel:"noreferrer",target:"_blank",children:Object(O.jsx)("img",{src:"/images/nfts/marketplace/scan.svg",alt:"scan"})})}),Object(O.jsx)(f.a,{children:"Contract"})]})]})})]})})},m=n(2955),y=function(e){var t=e.imageUrl;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.a,{width:"100%",sx:{pt:"100%",position:"relative"},children:Object(O.jsx)(m.a,{component:"img",height:"auto",image:t,alt:"",sx:{borderRadius:"12px",bottom:0,left:0,margin:"auto",height:"100%",maxWidth:"100%",right:0,position:"absolute",top:0}})})})},w=n(31),S=n(11),k=n.n(S),C=n(2951),E=n(10),R=n(2956),I=n(2953),T=n(1774),z=n(1717),W=n(1953);function P(e){var t=e.timestamp,n=e.onExpired;return t?Object(O.jsx)(W.a,{date:1e3*t,renderer:function(e){var t=e.days,a=e.hours,r=e.minutes;return e.completed?(n(),Object(O.jsx)(O.Fragment,{})):Object(O.jsxs)(f.a,{sx:{fontSize:"12px",color:"#666666"},children:[t?"".concat(t," days : "):"",a?"".concat(a," hours : "):"",r?"".concat(r," minutes"):""]})}}):null}var B,F,A,D,L,N,M=n(849),q=n.n(M),G=n(2940),U=n(2960),Y=n(2938),J=n(76),H=n(2053),Z=n(528),_=Object(Z.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[100],width:"100%"}})),$=Object(Z.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",right:0,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),K=Object(Z.a)(H.c)((function(e){var t=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:t.spacing(2.5,2.1,2.3,2.5),paddingRight:"calc(1em + ".concat(t.spacing(6),")"),width:"100%"}}})),Q=Object(s.default)(p.a)(B||(B=Object(c.a)(["\n  .expiry-item {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.text})),V=[{label:"3 days",days:3},{label:"7 days",days:7},{label:"30 days",days:30},{label:"6 months",days:180}],X=function(e){var t=e.collectionInfo,n=e.tokenInfo,a=e.serviceFee,c=e.royalty,s=e.onCancel,o=Object(i.useState)(["Sell price","Approve","Sign"]),l=Object(r.a)(o,2),d=l[0],u=l[1],b=Object(i.useState)(0),j=Object(r.a)(b,2),x=j[0],h=j[1],g=Object(i.useState)(0),v=Object(r.a)(g,2),m=v[0],y=v[1],w=Object(i.useState)(3),S=Object(r.a)(w,2),E=S[0],R=S[1],z=Object(T.b)(null===t||void 0===t?void 0:t.address),W=Object(r.a)(z,2),P=W[0],B=W[1],F=Object(T.j)(null===t||void 0===t?void 0:t.address),A=Object(r.a)(F,2),D=A[0],L=A[1],N=Object(T.q)(),M=Object(r.a)(N,3),H=M[0],Z=M[1],X=M[2],ee=Object(J.o)();Object(i.useEffect)((function(){0===x&&D&&3===d.length&&u(["Sell price","Sign"])}),[x,D,d]),Object(i.useEffect)((function(){1===x&&D&&3===d.length&&h(2)}),[x,D,d]),Object(i.useEffect)((function(){L()}),[P,L]);return Object(O.jsxs)(Q,{children:[Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(f.a,{variant:"h1",style:{fontSize:24},children:"List onto market"}),Object(O.jsx)(f.a,{variant:"h1",style:{fontSize:16,cursor:"pointer"},onClick:s,children:Z?"Done":"Cancel"})]}),Object(O.jsx)(p.a,{sx:{width:"100%",padding:"24px 4px",marginTop:"24px",borderRadius:"12px"},children:Object(O.jsx)(G.a,{activeStep:x,children:d.map((function(e){return Object(O.jsx)(U.a,{children:Object(O.jsx)(Y.a,{children:e})},e)}))})}),Object(O.jsxs)(p.a,{style:{marginTop:"32px"},children:[Object(O.jsxs)(f.a,{variant:"h1",style:{fontSize:24},children:[0===x&&"Sell Price",1===x&&!D&&"Approve",(2===x||1===x&&D)&&!H&&!Z&&"Sign",(2===x||1===x&&D)&&H&&!Z&&"Listing in progress",(2===x||1===x&&D)&&Z&&"Successfully listed!"]}),Object(O.jsxs)(f.a,{variant:"h1",style:{fontSize:16,marginTop:"32px"},children:[0===x&&"Enter price in CORE for this NFT",1===x&&!D&&"Perform this with your wallet",(2===x||1===x&&D)&&!H&&!Z&&"Set your sale listing expiry time",(2===x||1===x&&D)&&H&&!Z&&"Please wait while we confirm your listing",(2===x||1===x&&D)&&Z&&Z&&"Your NFT is now listed for ".concat(m," CORE")]}),Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[0===x&&Object(O.jsxs)(_,{children:[Object(O.jsx)(K,{type:"number",placeholder:"0.0",onChange:function(e){y(e.target.value||0)}}),Object(O.jsx)($,{children:"CORE"})]}),1===x&&!D&&Object(O.jsx)(f.a,{style:{fontSize:14},children:"Awaiting your approval to list your NFTs"}),(2===x||1===x&&D)&&!H&&!Z&&Object(O.jsx)(p.a,{style:{display:"flex",alignItems:"center",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:32},children:V.map((function(e){return Object(O.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:"10px",borderRadius:32,fontSize:12,fontWeight:600,cursor:"pointer",backgroundColor:E===e.days?"#3960C1":""},onClick:function(){return R(e.days)},role:"presentation",children:e.label},e.label)}))}),(2===x||1===x&&D)&&!H&&!Z&&Object(O.jsxs)(f.a,{style:{fontSize:14,marginTop:24},children:["Your listing will expire on ",q()().add("days",E).format("LLL")]})]}),Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[(2===x||1===x&&D)&&!H&&!Z&&Object(O.jsxs)(f.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:["Your listing price is ",m," CORE($",new k.a(m||0).times(ee||0).dp(2,1).toString(),")"]}),(2===x||1===x&&D)&&Z&&Object(O.jsx)(f.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:"Your NFT is now for sale on the marketplace. The NFT still remains in your wallet"}),(2===x||1===x&&D)&&H&&Object(O.jsx)(f.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:"Your NFT is being listed on the marketplace"}),Object(O.jsxs)(C.a,{sx:{width:"100%",py:"12px",backgroundColor:"#3960C1"},variant:"contained",color:"secondary",disableElevation:!0,disabled:0===x&&new k.a(m||0).isLessThanOrEqualTo(0),onClick:function(){0!==x&&1!==x||D||(h(1),B()),0===x&&D&&h(1),(2===x&&!Z||1===x&&D&&!Z)&&X(null===t||void 0===t?void 0:t.address,n.tokenId,new k.a(m).toString(10),q()().add("days",E).unix()),(2===x&&Z||1===x&&D&&Z)&&s()},children:[0===x&&"Next Step",1===x&&!D&&Object(O.jsxs)(O.Fragment,{children:[P&&Object(O.jsx)(I.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),P?"Pending approval":"Approve"]}),(2===x||1===x&&D)&&!Z&&Object(O.jsxs)(O.Fragment,{children:[H&&Object(O.jsx)(I.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),H?"Pending confirmation":"List NFT for sale"]}),(2===x||1===x&&D)&&Z&&"Done"]})]}),0===x&&Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[Object(O.jsx)(f.a,{style:{fontSize:14},children:"Once sold, the following fees will be deducted:"}),Object(O.jsxs)(f.a,{style:{fontSize:14},children:[a,"% service fee | ",c,"% creator royalty | You get approx"," ",new k.a(m-m*(+a/100)-+c/100*(m-m*(+a/100))).dp(2,1).toString(10)," ","CORE"]})]})]})]})},ee=n(198),te=n.n(ee),ne=Object(Z.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[100],width:"100%"}})),ae=Object(Z.a)("div")((function(){return{height:"100%",right:40,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),re=Object(Z.a)(H.c)((function(e){var t=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:t.spacing(2.5,2.1,2.3,2.5),paddingRight:"calc(1em + ".concat(t.spacing(6),")"),width:"100%"}}})),ce=["Enter CORE address","Success"],ie=function(e){var t=e.account,n=e.collectionInfo,a=e.tokenInfo,c=e.onCancel,s=Object(i.useState)(0),o=Object(r.a)(s,2),l=o[0],d=o[1],u=Object(i.useState)(""),b=Object(r.a)(u,2),j=b[0],x=b[1],h=Object(T.x)(null===n||void 0===n?void 0:n.address),g=Object(r.a)(h,3),v=g[0],m=g[1],y=g[2];Object(i.useEffect)((function(){m&&d(1)}),[m]);return Object(O.jsxs)(p.a,{children:[Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(f.a,{variant:"h1",style:{fontSize:24},children:"Transfer ownership"}),Object(O.jsx)(f.a,{variant:"h1",style:{fontSize:16,cursor:"pointer"},onClick:c,children:m?"Done":"Cancel"})]}),Object(O.jsx)(p.a,{sx:{width:"100%",padding:"24px 4px",marginTop:"24px",borderRadius:"12px"},children:Object(O.jsx)(G.a,{activeStep:l,children:ce.map((function(e){return Object(O.jsx)(U.a,{children:Object(O.jsx)(Y.a,{children:e})},e)}))})}),Object(O.jsxs)(p.a,{style:{marginTop:"32px"},children:[Object(O.jsxs)(f.a,{variant:"h1",style:{fontSize:24},children:[0===l&&"Enter CORE address",1===l&&"Successfully transfered!"]}),Object(O.jsx)(f.a,{variant:"h1",style:{fontSize:16,marginTop:"32px"},children:0===l&&"Transfer ".concat((null===a||void 0===a?void 0:a.name)||"")}),Object(O.jsx)(p.a,{style:{marginTop:"24px"},children:0===l&&Object(O.jsxs)(ne,{children:[Object(O.jsx)(re,{type:"text",placeholder:"Enter a valid address",onChange:function(e){x(e.target.value||0)}}),Object(O.jsx)(ae,{children:Object(O.jsx)(p.a,{sx:{maxWidth:"20px"},children:"CORE"})})]})}),Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[0===l&&te.a.utils.isAddress(j)&&Object(O.jsxs)(f.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:["Please confirm this address is correct"," ",Object(O.jsx)("strong",{children:"".concat(j.substr(0,4),"...").concat(j.substr(j.length-4,4))})]}),Object(O.jsxs)(C.a,{sx:{width:"100%",py:"12px",backgroundColor:"#3960C1"},variant:"contained",color:"secondary",disableElevation:!0,disabled:0===l&&!te.a.utils.isAddress(j),onClick:function(){0===l?y(t,j,null===a||void 0===a?void 0:a.tokenId):c()},children:[v&&Object(O.jsx)(I.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),0===l&&"Transfer",1===l&&"Done"]})]})]})]})},se=Object(Z.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[100],width:"100%"}})),oe=Object(Z.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",right:0,position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),le=Object(Z.a)(H.c)((function(e){var t=e.theme;return{color:"inherit",width:"100%","& .MuiInputBase-input":{padding:t.spacing(2.5,2.1,2.3,2.5),paddingRight:"calc(1em + ".concat(t.spacing(9),")"),width:"100%"}}})),de=Object(s.default)(p.a)(F||(F=Object(c.a)(["\n  .expiry-item {\n    background-color: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.text})),ue=[{label:"3 days",days:3},{label:"7 days",days:7},{label:"30 days",days:30},{label:"6 months",days:180}],be=function(e){var t=e.collectionInfo,n=e.tokenInfo,a=e.coreBalance,c=e.wcoreBalance,s=e.onCancel,o=e.onPlaceBid,l=Object(i.useState)(["Bid amount","Convert","Approve","Sign"]),d=Object(r.a)(l,2),u=d[0],b=d[1],j=Object(i.useState)(0),x=Object(r.a)(j,2),h=x[0],g=x[1],v=Object(i.useState)(0),m=Object(r.a)(v,2),y=m[0],w=m[1],S=Object(i.useState)(3),E=Object(r.a)(S,2),R=E[0],z=E[1],W=Object(T.h)(),P=Object(r.a)(W,1)[0],B=Object(T.f)(),F=Object(r.a)(B,3),A=F[0],D=F[1],L=F[2],N=Object(T.c)(),M=Object(r.a)(N,3),J=M[0],H=M[1],Z=M[2],_=Object(T.d)(),$=Object(r.a)(_,3),K=$[0],Q=$[1],V=$[2];Object(i.useEffect)((function(){D&&g(P?u.length-1:u.length-2)}),[D,P,u]),Object(i.useEffect)((function(){H&&g(u.length-1)}),[H,u]),Object(i.useEffect)((function(){Q&&o()}),[Q,o]),Object(i.useEffect)((function(){new k.a(y).isGreaterThan(c)?b(P?["Bid amount","Convert","Sign"]:["Bid amount","Convert","Approve","Sign"]):b(P?["Bid amount","Sign"]:["Bid amount","Approve","Sign"])}),[y,P,c]);return Object(O.jsxs)(de,{children:[Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(f.a,{variant:"h1",style:{fontSize:24},children:"Place a bid"}),Object(O.jsx)(f.a,{variant:"h1",style:{fontSize:16,cursor:"pointer"},onClick:s,children:Q?"Done":"Cancel"})]}),Object(O.jsx)(p.a,{sx:{width:"100%",padding:"24px 4px",marginTop:"24px",borderRadius:"12px"},children:Object(O.jsx)(G.a,{activeStep:h,children:u.map((function(e){return Object(O.jsx)(U.a,{children:Object(O.jsx)(Y.a,{children:e})},e)}))})}),Object(O.jsxs)(p.a,{style:{marginTop:"32px"},children:[Object(O.jsxs)(f.a,{variant:"h1",style:{fontSize:24},children:[0===h&&"Bid amount","Convert"===u[h]&&"Convert","Approve"===u[h]&&"Approve","Sign"===u[h]&&!Q&&!K&&"Sign","Sign"===u[h]&&!Q&&K&&"Bid in progress","Sign"===u[h]&&Q&&"Your bid is placed"]}),Object(O.jsxs)(f.a,{variant:"h1",style:{fontSize:16,marginTop:"32px"},children:[0===h&&"Your bid for this NFT",("Convert"===u[h]||"Approve"===u[h])&&"Perform this with your wallet","Sign"===u[h]&&!Q&&!K&&"Set your bid expiry time","Sign"===u[h]&&!Q&&K&&"Please wait while we confirm your bid","Sign"===u[h]&&Q&&"Please keep your ".concat(y," WCORE available in your wallet for the bid to be valid.")]}),Object(O.jsx)(p.a,{style:{marginTop:"24px"},children:0===h&&Object(O.jsxs)(se,{children:[Object(O.jsx)(le,{type:"number",placeholder:"0.0",onChange:function(e){w(e.target.value||0)}}),Object(O.jsx)(oe,{children:"WCORE"})]})}),0===h&&Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"24px"},children:[Object(O.jsx)(f.a,{style:{fontSize:14},children:"Your CORE balance"}),Object(O.jsxs)(f.a,{style:{fontSize:14},children:[new k.a(a).dp(2,1).toString(10)," CORE"]})]}),0===h&&Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"24px"},children:[Object(O.jsx)(f.a,{style:{fontSize:14},children:"Your WCORE balance"}),Object(O.jsxs)(f.a,{style:{fontSize:14},children:[new k.a(c).dp(2,1).toString(10)," WCORE"]})]}),"Convert"===u[h]&&Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"24px"},children:[Object(O.jsx)(f.a,{style:{fontSize:14},children:"From"}),Object(O.jsxs)(f.a,{style:{fontSize:14},children:[new k.a(y).minus(c).toString(10)," CORE"]})]}),"Convert"===u[h]&&Object(O.jsxs)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"24px"},children:[Object(O.jsx)(f.a,{style:{fontSize:14},children:"To"}),Object(O.jsxs)(f.a,{style:{fontSize:14},children:[new k.a(y).minus(c).toString(10)," WCORE"]})]}),"Sign"===u[h]&&!Q&&!K&&Object(O.jsx)(p.a,{style:{display:"flex",alignItems:"center",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:32},children:ue.map((function(e){return Object(O.jsx)("div",{className:"expiry-item",style:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:"10px",borderRadius:32,fontSize:12,fontWeight:600,cursor:"pointer",backgroundColor:R===e.days?"#3960C1":""},onClick:function(){return z(e.days)},role:"presentation",children:e.label},e.label)}))}),"Sign"===u[h]&&!Q&&!K&&Object(O.jsxs)(f.a,{style:{fontSize:14,marginTop:24},children:["Your bid will expire on ",q()().add("days",R).format("LLL")]}),Object(O.jsxs)(p.a,{style:{marginTop:"24px"},children:[new k.a(y).isGreaterThan(c)&&("Bid amount"===u[h]||"Convert"===u[h])&&Object(O.jsxs)(f.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:[new k.a(y).minus(c).toString(10)," CORE will be converted to"," ",new k.a(y).minus(c).toString(10)," WCORE"]}),"Sign"===u[h]&&!Q&&!K&&Object(O.jsxs)(f.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:["You're placing a bid for ",y," WCORE"]}),"Sign"===u[h]&&!Q&&K&&Object(O.jsx)(f.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:"Your bid on the NFT is being placed"}),"Sign"===u[h]&&Q&&Object(O.jsxs)(f.a,{style:{fontSize:14,padding:"24px 0",borderTop:"1px solid rgba(0, 0, 0, 0.1)"},children:["Your bid will expire on ",q()().add("days",R).format("LLL")]}),Object(O.jsxs)(C.a,{sx:{width:"100%",py:"12px",backgroundColor:"#3960C1"},variant:"contained",color:"secondary",disableElevation:!0,disabled:0===h&&(new k.a(y||0).isLessThanOrEqualTo(0)||new k.a(y||0).isGreaterThanOrEqualTo(new k.a(a).plus(c))),onClick:function(){0===h&&g(1),"Convert"===u[h]&&L(new k.a(y).minus(c).toString(10)),"Approve"===u[h]&&Z(),"Sign"!==u[h]||Q||V(null===t||void 0===t?void 0:t.address,n.tokenId,new k.a(y).toString(10),q()().add("days",R).unix()),Q&&s()},children:[0===h&&"Next step","Convert"===u[h]&&Object(O.jsxs)(O.Fragment,{children:[A&&Object(O.jsx)(I.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),A?"Pending conversion":"Convert"]}),"Approve"===u[h]&&Object(O.jsxs)(O.Fragment,{children:[J&&Object(O.jsx)(I.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),J?"Pending approval":"Approve"]}),"Sign"===u[h]&&!Q&&Object(O.jsxs)(O.Fragment,{children:[K&&Object(O.jsx)(I.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),K?"Pending confirmation":"Place bid"]}),"Sign"===u[h]&&Q&&"DONE"]})]})]})]})},je=Object(s.default)(p.a)(A||(A=Object(c.a)(["\n  border-radius: 20px;\n  box-shadow: 0px 4px 10px rgba(105, 105, 105, 0.15);\n  padding: 24px 32px;\n\n  span,\n  a,\n  p,\n  h1,\n  div,\n  .MuiStepLabel-label {\n    color: "," !important;\n  }\n  .MuiButton-root {\n    background: ",";\n    padding: 4px 12px;\n    border-radius: 50px;\n  }\n\n  input {\n    background: ",";\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.backgroundDisabled}),(function(e){return e.theme.colors.background})),pe=Object(s.default)(E.l)(D||(D=Object(c.a)(["\n  width: 50%;\n  color: white !important;\n"]))),fe=Object(s.default)(C.a)(L||(L=Object(c.a)(["\n  color: "," !important;\n"])),(function(e){return e.theme.colors.text})),xe=s.default.a(N||(N=Object(c.a)(["\n  background: ",";\n  width: 32px;\n  height: 32px;\n  border-radius: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),(function(e){return e.theme.colors.primary})),he=function(e){var t=e.collectionInfo,n=e.tokenInfo,a=e.attributeInfo,c=e.tokenOwner,s=e.priceData,o=e.serviceFee,l=e.royalty,u=e.isWithdrawBid,b=e.onPlaceBid,j=Object(i.useState)(!1),h=Object(r.a)(j,2),g=h[0],v=h[1],m=Object(i.useState)(!1),y=Object(r.a)(m,2),S=y[0],C=y[1],E=Object(i.useState)(!1),W=Object(r.a)(E,2),B=W[0],F=W[1],A=Object(i.useState)([]),D=Object(r.a)(A,2),L=D[0],N=D[1],M=Object(i.useState)(!1),q=Object(r.a)(M,2),G=q[0],U=q[1],Y=Object(d.useWeb3React)().account,J=Object(z.e)(),H=Object(z.l)(),Z=Object(T.e)(),_=Object(r.a)(Z,2),$=_[0],K=_[1],Q=Object(T.g)(),V=Object(r.a)(Q,3),ee=V[0],te=V[1],ne=V[2],ae=Object(T.v)(null===t||void 0===t?void 0:t.address,n.tokenId,$||g||te||S||B),re=Object(T.i)(),ce=Object(r.a)(re,2),se=ce[0],oe=ce[1];Object(i.useEffect)((function(){oe(null===t||void 0===t?void 0:t.address,n.tokenId)}),[t,n,Y,B,u,oe]),Object(i.useEffect)((function(){window.location.search&&(new URLSearchParams(window.location.search).get("transfer")&&C(!0))}),[]),Object(i.useEffect)((function(){if(t&&a&&a.attributeCategories){var e=[],n=t.totalSupply;a.attributeCategories.map((function(t){return e.push({label:t.type,select:Object(w.a)(t.values.map((function(e){return{label:e.value,amount:e.count,percentage:new k.a(e.count).div(n).times(100).dp(2,1).toString()}})))}),!0})),N(e)}}),[t,a]);var le,de=function(e){if(n&&n.attributes){var t=n.attributes.findIndex((function(t){return t.trait_type===e.label}));return-1!==t?n.attributes[t].value:""}return""},ue=function(e){if(n&&n.attributes){var t=n.attributes.findIndex((function(t){return t.trait_type.toLowerCase()===e.label.toLowerCase()}));if(-1!==t&&e&&e.select){var a=e.select.findIndex((function(e){return e.label===n.attributes[t].value}));return-1!==a?e.select[a].percentage:0}return 0}return 0};return Object(O.jsxs)(je,{children:[g&&Object(O.jsx)(X,{collectionInfo:t,tokenInfo:n,serviceFee:o,royalty:l,onCancel:function(){return v(!1)}}),S&&Object(O.jsx)(ie,{account:Y||"",collectionInfo:t,tokenInfo:n,onCancel:function(){return C(!1)}}),B&&Object(O.jsx)(be,{coreBalance:J.div(Math.pow(10,18)).toString(),wcoreBalance:H.div(Math.pow(10,18)).toString(),collectionInfo:t,tokenInfo:n,onCancel:function(){return F(!1)},onPlaceBid:b}),!g&&!S&&!B&&Object(O.jsxs)(p.a,{children:[Object(O.jsx)(f.a,{variant:"h1",sx:{fontSize:"24px",fontWeight:600,mb:"20px"},children:(null===n||void 0===n?void 0:n.name)||""}),Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",gap:"5px",mb:"15px"},children:[Object(O.jsx)("img",{src:"/images/nfts/marketplace/traits.svg",alt:"traits"}),"Traits"]}),Object(O.jsx)(p.a,{display:"flex",gap:"15px",sx:{flexWrap:"wrap",mb:"25px"},children:L.map((function(e){return Object(O.jsxs)(R.a,{variant:"text",sx:{display:{xs:"none",md:"flex"},p:"8px 16px",borderRadius:"50px"},children:[Object(O.jsxs)(fe,{sx:{color:"common.black",flexDirection:"column",p:"0",pr:"10px",fontSize:"12px",fontWeight:"500"},children:[e.label," : ",de(e)]}),Object(O.jsxs)(fe,{sx:{color:"common.black",flexDirection:"column",p:"0",pl:"10px",fontSize:"12px",fontWeight:"500"},children:[ue(e),"%"]})]},e.label)}))}),Object(O.jsxs)(p.a,{sx:{mb:"20px",display:"flex",justifyContent:"space-between"},children:[c===Y&&Object(O.jsxs)(f.a,{sx:{fontSize:"14px"},children:["Owned by you |"," ",Object(O.jsx)("strong",{style:{cursor:"pointer"},onClick:function(){return C(!0)},role:"presentation",children:"Transfer"})]}),c!==Y&&Object(O.jsx)(f.a,{sx:{fontSize:"14px"},children:"Owned by"}),c!==Y&&Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:[Object(O.jsx)(f.a,{sx:{fontSize:"14px"},children:(le=c||"","".concat(le.slice(0,6),"...").concat(le.slice(-4)))}),Object(O.jsx)(xe,{href:"https://scan.coredao.org/address/".concat(c),rel:"noreferrer",target:"_blank",children:Object(O.jsx)("img",{src:"/images/nfts/marketplace/scan.svg",alt:"scan"})})]})]}),Object(O.jsx)(x.a,{}),Object(O.jsx)(p.a,{sx:{mt:"35px",mb:"20px",display:"flex",alignItems:"center",gap:"10px"},children:Object(O.jsxs)(f.a,{children:["Rarity rank: ",n.rarityRank||""]})}),!new k.a(ae.value).isZero()&&!new k.a(ae.expireTimestamp).isZero()&&!G&&Object(O.jsxs)(p.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:"30px"},children:[Object(O.jsx)(f.a,{sx:{fontSize:"14px"},children:"sell price"}),Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",gap:"10px"},children:[Object(O.jsx)(p.a,{sx:{display:"flex",alignItems:"center",gap:"5px"},children:Object(O.jsxs)(f.a,{sx:{fontSize:"20px",color:"#EF5DA8",fontWeight:"700"},children:[new k.a((null===ae||void 0===ae?void 0:ae.value)||0).div(Math.pow(10,18)).toString(10)," CORE"]})}),Object(O.jsxs)(f.a,{sx:{fontSize:"16px",fontWeight:"500",color:"#4D4D4D",p:"4px 15px",borderRadius:"50px"},children:["$",new k.a((null===ae||void 0===ae?void 0:ae.value)||0).div(Math.pow(10,18)).times(s||0).dp(2,1).toString()]})]})]}),!new k.a(ae.expireTimestamp).isZero()&&!G&&Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:"18px"},children:[Object(O.jsx)(f.a,{sx:{fontSize:"12px",color:"#666666"},children:"Sale ends in"}),Object(O.jsx)(p.a,{sx:{display:"flex",gap:"10px"},children:Object(O.jsx)(P,{timestamp:(null===ae||void 0===ae?void 0:ae.expireTimestamp)||0,onExpired:function(){U(!0)}})})]}),Object(O.jsxs)(p.a,{children:[Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(O.jsx)(f.a,{sx:{fontSize:"14px",color:"#333333",fontWeight:500},children:"Market Status"}),Object(O.jsx)(f.a,{sx:{fontSize:"14px",color:"#333333",fontWeight:600},children:new k.a(ae.value||0).isZero()?"Not for Sale":"For sale"})]}),Object(O.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:"18px"},children:[Object(O.jsx)(f.a,{sx:{fontSize:"12px",color:"#666666"},children:"Service Fee:"}),Object(O.jsxs)(f.a,{sx:{fontSize:"12px",color:"#666666"},children:[o,"%"]})]})]}),Object(O.jsxs)(p.a,{sx:{display:"flex",gap:"24px"},children:[c!==Y&&Object(O.jsx)(pe,{onClick:function(){return F(!0)},children:new k.a(se.value||0).isZero()?"Place a bid":"Update bid price"}),c===Y&&Object(O.jsx)(pe,{onClick:function(){return v(!0)},children:new k.a(ae.value).isZero()?"List onto market":"Change sell price"}),c===Y&&!new k.a(ae.value).isZero()&&Object(O.jsxs)(pe,{disabled:!t.address||void 0===n.tokenId,onClick:function(){t.address&&n.tokenId&&ne(t.address,n.tokenId)},children:[ee&&Object(O.jsx)(I.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),"Remove from market"]}),c!==Y&&!new k.a(ae.value).isZero()&&!G&&Object(O.jsxs)(pe,{variant:"primary",disabled:!t.address||void 0===n.tokenId,onClick:function(){if(t.address&&n.tokenId){var e=new k.a(ae.value).div(Math.pow(10,18)).toString(10);K(e,t.address,n.tokenId)}},children:[$&&Object(O.jsx)(I.a,{style:{width:20,height:20,marginRight:6,color:"red"},color:"secondary"}),"Buy now"]})]})]})]})},Oe=n(2957),ge=n(2962),ve=n(2966),me=n(2965),ye=n(2961),we=n(2963),Se=n(2922),ke=n(2964);function Ce(e){var t=e.columns,n=e.rows,a=e.onCancelBid,c=e.onAcceptBid,s=Object(i.useState)(0),o=Object(r.a)(s,2),l=o[0],d=o[1],u=Object(i.useState)(10),b=Object(r.a)(u,2),j=b[0],p=b[1];return Object(O.jsxs)(Oe.a,{style:{width:"100%",borderRadius:"20px",boxShadow:"0px 4px 10px rgba(105, 105, 105, 0.15)"},children:[Object(O.jsx)(ye.a,{children:Object(O.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(we.a,{children:Object(O.jsx)(ke.a,{children:t.map((function(e){return Object(O.jsx)(me.a,{sx:{bgcolor:"#F6F6F6"},align:e.align,children:e.label},e.id)}))})}),Object(O.jsx)(ve.a,{children:n.slice(l*j,l*j+j).map((function(e){return Object(O.jsx)(ke.a,{hover:!0,role:"checkbox",tabIndex:-1,style:{cursor:"pointer"},children:t.map((function(t){var n=e[t.id];return Object(O.jsx)(me.a,{align:t.align,style:{cursor:"Cancel"===n||"Accept"===n?"pointer":"",fontWeight:"Cancel"===n||"Accept"===n?"bold":"normal"},onClick:function(){"Cancel"===n?a():"Accept"===n&&c(e)},children:n},t.id)}))},Math.random())}))})]})}),Object(O.jsx)(Se.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:j,page:l,onPageChange:function(e,t){d(t)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})}var Ee=[{id:"wcore",label:"WCORE",minWidth:170},{id:"usd",label:"USD",minWidth:170},{id:"from",label:"From",minWidth:100},{id:"expiration",label:"Expiration",minWidth:100},{id:"action",label:"Action",minWidth:170,align:"right"}],Re=function(e){var t=q()(1e3*e).diff(q()(new Date),"days");if(t)return"".concat(Math.abs(t)," days");var n=q()(1e3*e).diff(q()(new Date),"hours");if(n)return"".concat(Math.abs(n)," hours");var a=q()(1e3*e).diff(q()(new Date),"minutes");if(a)return"".concat(Math.abs(a)," minutes");var r=q()(1e3*e).diff(q()(new Date),"seconds");return"".concat(Math.abs(r||0)," seconds")},Ie=function(e){var t=e.tokenBids,n=e.priceData,a=e.account,c=e.tokenOwner,s=e.onCancelBid,o=e.onAcceptBid,l=Object(i.useState)([]),d=Object(r.a)(l,2),u=d[0],b=d[1];return Object(i.useEffect)((function(){var e=[];(t||[]).map((function(t){var r={tokenId:t.tokenId,wcore:new k.a(t.value).div(Math.pow(10,18)).toString(),rawWcore:t.value,usd:"~$".concat(new k.a(t.value).div(Math.pow(10,18)).times(n||0).dp(2,1).toString()),from:a===t.bidder?"You":"".concat(t.bidder.substr(0,4),"...").concat(t.bidder.substr(t.bidder.length-4,4)),fromFullAddress:t.bidder,expiration:"".concat(Re(t.expireTimestamp)),action:""};return a===t.bidder?r.action="Cancel":a===c&&(r.action="Accept"),e.push(r),!0})),b(e)}),[a,c,t,n]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.a,{style:{borderRadius:"20px",boxShadow:"0px 4px 10px rgba(105, 105, 105, 0.15)"},children:Object(O.jsx)(Ce,{tableTitle:"Active Bids",columns:Ee,rows:u,onCancelBid:s,onAcceptBid:o})})})};function Te(e){var t=e.tableTitle,n=e.columns,a=void 0===n?[]:n,c=e.rows,s=void 0===c?[]:c,o=i.useState(0),l=Object(r.a)(o,2),d=l[0],u=l[1],b=i.useState(10),j=Object(r.a)(b,2),p=j[0],x=j[1];return Object(O.jsxs)(Oe.a,{sx:{width:"100%",overflow:"hidden",boxShadow:"none",border:"1px solid #E0E0E0"},children:[Object(O.jsxs)(ye.a,{sx:{maxHeight:440},children:[Object(O.jsx)(f.a,{sx:{minWidth:300,p:"16px"},children:t}),Object(O.jsxs)(ge.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(we.a,{children:Object(O.jsx)(ke.a,{children:a.map((function(e){return Object(O.jsx)(me.a,{align:e.align,sx:{bgcolor:"#F6F6F6",borderTop:"1px solid #E0E0E0"},children:e.label},e.id)}))})}),Object(O.jsx)(ve.a,{children:s.slice(d*p,d*p+p).map((function(e){return Object(O.jsx)(ke.a,{hover:!0,role:"checkbox",tabIndex:-1,style:{cursor:"pointer"},onClick:function(){e.transactionHash&&window.open("https://scan.coredao.org/tx/".concat(e.transactionHash))},children:a.map((function(t){var n=e[t.id];return Object(O.jsx)(me.a,{align:t.align,children:n},t.id)}))},Math.random())}))})]})]}),Object(O.jsx)(Se.a,{rowsPerPageOptions:[10,25,100],component:"div",count:s.length,rowsPerPage:p,page:d,onPageChange:function(e,t){u(t)},onRowsPerPageChange:function(e){x(+e.target.value),u(0)}})]})}var ze,We,Pe,Be=[{id:"event",label:"Event",minWidth:170},{id:"core",label:"CORE",minWidth:170},{id:"from",label:"From",minWidth:100},{id:"to",label:"To",minWidth:100},{id:"date",label:"Date",minWidth:170,align:"right"}],Fe={TokenBidWithdrawn:"Canceled",TokenBought:"Sale",TokenBidAccepted:"Sale",TokenDelisted:"DeListing",TokenListed:"Listing",TokenBidEntered:"Bid",Transfer:"Transfer"},Ae=function(e){var t=q()(1e3*e).diff(q()(new Date),"days");if(t)return"".concat(Math.abs(t)," days");var n=q()(1e3*e).diff(q()(new Date),"hours");if(n)return"".concat(Math.abs(n)," hours");var a=q()(1e3*e).diff(q()(new Date),"minutes");if(a)return"".concat(Math.abs(a)," minutes");var r=q()(1e3*e).diff(q()(new Date),"seconds");return"".concat(Math.abs(r||0)," seconds")},De=function(e){var t=e.tokenEvents,n=Object(i.useState)([]),a=Object(r.a)(n,2),c=a[0],s=a[1];return Object(i.useEffect)((function(){var e=[];(t||[]).map((function(t){return e.push({event:Fe[t.event],core:t.valueNum,from:t.from.substr(2,6),to:t.to?t.to.substr(2,6):"-",date:"".concat(Ae(t.timestamp)," ago"),transactionHash:t.transactionHash}),!0})),s(e)}),[t]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(p.a,{style:{borderRadius:"20px",boxShadow:"0px 4px 10px rgba(105, 105, 105, 0.15)"},children:Object(O.jsx)(Te,{tableTitle:"Transaction History",columns:Be,rows:c})})})},Le=n(1957),Ne=n(1819),Me=s.default.div(ze||(ze=Object(c.a)(["\n  width: 100%;\n  background: ",";\n  padding-bottom: 100px;\n"])),(function(e){return e.theme.colors.card})),qe=s.default.div(We||(We=Object(c.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  padding: 25px 85px;\n  background: ",";\n\n  @media (max-width: 768px) {\n    padding: 24px;\n  }\n\n  .back-wrap {\n    display: flex;\n    align-items: center;\n    img {\n      margin-right: 20px;\n    }\n    > div {\n      font-weight: 500;\n      font-size: 16px;\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.colors.card}),(function(e){return e.theme.colors.text})),Ge=s.default.div(Pe||(Pe=Object(c.a)(["\n  display: flex;\n  padding: 0px 85px;\n  background: ",";\n  max-width: 1200px;\n  @media (max-width: 768px) {\n    padding: 0px 24px;\n  }\n  .left-side {\n    width: 100%;\n    max-width: 469px;\n    .nft-art {\n      width: 100%;\n      border-radius: 20px;\n      margin-bottom: 40px;\n    }\n  }\n  .right-side {\n    flex: 1;\n    max-width: 480px;\n    margin-left: 35px;\n  }\n"])),(function(e){return e.theme.colors.card}));t.default=function(){var e=Object(u.a)(),t=Object(o.h)(),n=Object(d.useWeb3React)().account,a=Object(Ne.a)(t.alias),c=Object(Ne.b)(t.alias),s=Object(Ne.e)(t.alias,t.tokenId),p=Object(Ne.g)({chainId:null===a||void 0===a?void 0:a.chainId,tokenAddress:null===a||void 0===a?void 0:a.address,tokenId:t.tokenId}),f=Object(T.m)(null===a||void 0===a?void 0:a.address),x=Object(r.a)(f,2),h=x[0],g=x[1],m=Object(T.o)(),w=Object(T.n)(null===a||void 0===a?void 0:a.address),S=Object(J.o)(),k=Object(T.p)(),C=Object(r.a)(k,2),E=C[0],R=C[1],I=Object(T.y)(),z=Object(r.a)(I,3),W=z[1],P=z[2],B=Object(T.a)(),F=Object(r.a)(B,3),A=F[1],D=F[2];Object(i.useEffect)((function(){g(t.tokenId)}),[a,t,n,A,g]),Object(i.useEffect)((function(){R(null===a||void 0===a?void 0:a.address,null===s||void 0===s?void 0:s.tokenId)}),[a,s,n,W,A,R]);return Object(O.jsxs)(Me,{children:[Object(O.jsxs)(qe,{children:[Object(O.jsx)(l.a,{to:"/marketplace/".concat(t.alias),children:Object(O.jsxs)("div",{className:"back-wrap",children:[Object(O.jsx)("img",{src:"/images/nfts/marketplace/back.svg",alt:"back"}),Object(O.jsx)("div",{children:t.alias})]})}),Object(O.jsx)(Le.a,{})]}),Object(O.jsx)(Ge,{children:Object(O.jsxs)(j.a,{container:!0,spacing:4,children:[Object(O.jsxs)(j.a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column",gap:"30px"},children:[Object(O.jsx)(y,{imageUrl:null===s||void 0===s?void 0:s.image}),Object(b.a)(e.breakpoints.up("md"))&&Object(O.jsxs)(O.Fragment,{children:[0!==p.length&&Object(O.jsx)(De,{tokenEvents:p}),Object(O.jsx)(v,{collectionInfo:a})]})]}),Object(O.jsxs)(j.a,{item:!0,xs:12,md:6,sx:{display:"flex",flexDirection:"column",gap:"30px"},children:[Object(O.jsx)(he,{collectionInfo:a,tokenInfo:s,attributeInfo:c,tokenOwner:h,priceData:S,serviceFee:m,royalty:w,isWithdrawBid:W,onPlaceBid:function(){R(null===a||void 0===a?void 0:a.address,null===s||void 0===s?void 0:s.tokenId)}}),0!==E.length&&Object(O.jsx)(Ie,{tokenBids:E,priceData:S,account:n,tokenOwner:h,onCancelBid:function(){P(null===a||void 0===a?void 0:a.address,null===s||void 0===s?void 0:s.tokenId)},onAcceptBid:function(e){D(null===a||void 0===a?void 0:a.address,null===e||void 0===e?void 0:e.tokenId,null===e||void 0===e?void 0:e.fromFullAddress,null===e||void 0===e?void 0:e.rawWcore)}}),Object(b.a)(e.breakpoints.down("md"))&&Object(O.jsxs)(O.Fragment,{children:[0!==p.length&&Object(O.jsx)(De,{tokenEvents:p}),Object(O.jsx)(v,{collectionInfo:a})]})]})]})})]})}}}]);
//# sourceMappingURL=43.ac8d54f7.chunk.js.map
{"version":3,"sources":["hooks/useTokenBalance.ts","hooks/api.ts","components/Marketplace/AnalyticHead/index.tsx","components/Marketplace/TokenDetails/Info/Info.tsx","components/Marketplace/TokenDetails/TokenImage/TokenImage.tsx","components/Marketplace/CountTimeDown/CountTimeDown.tsx","components/Marketplace/TokenDetails/TokenListing/styles.ts","components/Marketplace/TokenDetails/TokenListing/TokenListing.tsx","components/Marketplace/TokenDetails/TokenTransfer/styles.ts","components/Marketplace/TokenDetails/TokenTransfer/TokenTransfer.tsx","components/Marketplace/TokenDetails/TokenPlaceBid/styles.ts","components/Marketplace/TokenDetails/TokenPlaceBid/TokenPlaceBid.tsx","components/Marketplace/TokenDetails/Details/Details.tsx","components/Marketplace/Table/ActiveBidsTable/ActiveBidsTable.tsx","components/Marketplace/TokenDetails/Offers/Offers.tsx","components/Marketplace/Table/Table.tsx","components/Marketplace/TokenDetails/History/History.tsx","views/Marketplace/NftDetail.tsx"],"names":["useETHBalance","useState","BigNumber","balance","setBalance","account","useWeb3React","web3","useWeb3","fastRefresh","useRefresh","useEffect","a","eth","getBalance","res","fetchBalance","useWcoreBalance","contract","getBep20Contract","tokens","wcore","address","methods","balanceOf","call","useTokenAllowance","tokenAddress","targetAddress","allowance","setAllowance","useApprove","approvePending","setApprovePending","onApprove","useCallback","contractAddress","approve","pow","minus","toString","send","from","tx","useTokenSymbol","symbol","setSymbol","useTokenDecimal","decimal","setDecimal","decimals","useNFTBalance","ownedTokensIds","setOwnedTokensIds","isLoading","setIsLoading","getErc721Contract","tokensOfOwner","tokenIds","tokensData","map","tokenId","tokenURI","uri","fetch","data","json","metadata","Promise","all","then","values","useTokenBalanceFromChain","chainId","getWeb3NoAccountFromChain","useBurnedBalance","useCirculatingBalance","bowContract","getBowContract","totalSupply","tRes","res0","res1","res2","lockedBalance","plus","usePairsLength","pairsLength","setPairsLength","slowRefresh","getFactoryContract","allPairsLength","fetchPairsLength","useTokenBalance","useCollections","setData","marketplaceClient","query","getERC721CollectionsQuery","variables","fetchPolicy","GetERC721Collections","console","error","fetchData","useCollection","alias","getERC721CollectionQuery","GetERC721Collection","length","useCollectionAttributes","getERC721CollectionAttributesQuery","GetERC721CollectionAttributes","currentInput1","useERC721TokenCount","input","getERC721TokenCountQuery","GetERC721TokenCount","pageSize","filters","JSON","stringify","currentInput2","useERC721Tokens","getERC721TokensQuery","GetERC721Tokens","currentInput3","useERC721RecentEventsLite","ERC721RecentEventsLiteQuery","ERC721RecentEventsLite","useERC721Token","getERC721TokenQuery","GetERC721Token","currentInput4","useERC721TokenEvents","ERC721TokenEventsQuery","ERC721TokenEvents","AnalyticHeadContainer","styled","div","AnalyticHead","to","InfoWrap","Box","theme","colors","text","Info","collectionInfo","sx","Typography","py","px","Divider","display","gap","xs","md","boxShadow","justifyContent","alignItems","href","websiteUrl","rel","target","IconButton","aria-label","padding","width","height","borderRadius","backgroundColor","cursor","src","alt","TokenImage","imageUrl","pt","position","CardMedia","component","image","bottom","left","margin","maxWidth","right","top","CountTimeDown","timestamp","onExpired","date","renderer","days","hours","minutes","completed","fontSize","color","StyledSearch","shape","palette","grey","SearchIconWrapper","spacing","pointerEvents","StyledInputBase","InputBase","paddingRight","TokenListingContainer","background","ExpiryTimes","label","TokenListing","tokenInfo","serviceFee","royalty","onCancel","steps","setSteps","activeStep","setActiveStep","listingPrice","setListingPrice","expiryDays","setExpiryDays","useApproveNFT","approveNFT","useGetIsApprovedForAll","isApproved","getIsApprovedForAll","useListToken","isListingLoading","isListed","listToken","priceData","usePriceCoreUsd","style","variant","onClick","marginTop","Stepper","Step","StepLabel","type","placeholder","onChange","v","value","border","expiry","flex","fontWeight","role","moment","add","format","borderTop","times","dp","Button","disableElevation","disabled","isLessThanOrEqualTo","unix","CircularProgress","marginRight","TokenTransfer","destAddress","setDestAddress","useTransferToken","isTransferLoading","isTransferred","transferToken","name","Web3","utils","isAddress","substr","TokenPlaceBidContainer","TokenPlaceBid","coreBalance","wcoreBalance","onPlaceBid","bidAmount","setBidAmount","useGetAllowanceWCORE","isAllowedWCORE","useConvertToWCORE","isConvertLoading","isConverted","convertToWCORE","useApproveWCORE","isApproveLoading","isWcoreApproved","approveWCORE","useBidToken","isBidLoading","isPlaceBid","bidToken","isGreaterThan","className","isGreaterThanOrEqualTo","DetailWrap","backgroundDisabled","StyledActionBtn","StyledButton","TraitButton","StyledIconWrapper","primary","Details","attributeInfo","tokenOwner","isWithdrawBid","isList","setIsList","isTransfer","setIsTransfer","setIsPlaceBid","options","setOptions","isExpired","setIsExpired","useBuyToken","buyToken","useDelistToken","isDelistLoading","isDelisted","deListToken","listedTokenInfo","useTokenListing","useGetBidderTokenBid","tokenBidder","getBidderTokenBid","window","location","search","URLSearchParams","get","attributeCategories","_options","attr","push","select","amount","count","percentage","str","getTraitCount","trait","attributes","index","findIndex","trait_type","getTraitPercent","t","toLowerCase","_attributeIndex","mb","flexWrap","ButtonGroup","p","flexDirection","pr","pl","slice","mt","rarityRank","isZero","expireTimestamp","undefined","StickyHeadTable","columns","rows","onCancelBid","onAcceptBid","page","setPage","rowsPerPage","setRowsPerPage","Paper","TableContainer","Table","stickyHeader","TableHead","TableRow","column","TableCell","bgcolor","align","id","TableBody","row","hover","tabIndex","Math","random","TablePagination","rowsPerPageOptions","onPageChange","event","newPage","onRowsPerPageChange","minWidth","getDiffDate","diffDays","diff","Date","abs","diffHours","diffMinutes","diffSeconds","Offers","tokenBids","setRows","_rows","e","rowData","rawWcore","usd","bidder","fromFullAddress","expiration","action","tableTitle","React","overflow","maxHeight","transactionHash","open","EVENTS","TokenBidWithdrawn","TokenBought","TokenBidAccepted","TokenDelisted","TokenListed","TokenBidEntered","Transfer","History","tokenEvents","core","valueNum","Background","card","NftDetailHeader","NftDetailContent","NftDetail","useTheme","params","useParams","useGetOwnerOfToken","getOwnerOfToken","useGetServiceFee","useGetRoyalty","useGetTokenBids","getTokenBids","useWithdrawBidToken","withdrawBidToken","useAcceptBidToken","isAcceptBid","acceptBidToken","Grid","container","item","useMediaQuery","breakpoints","up","bidInfo","down"],"mappings":"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","file":"static/js/43.ac8d54f7.chunk.js","sourcesContent":["import { useEffect, useState, useCallback } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport tokens from 'config/constants/tokens'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { getBep20Contract, getBowContract, getErc721Contract, getFactoryContract } from 'utils/contractHelpers'\r\nimport { getWeb3NoAccountFromChain } from 'utils/web3'\r\nimport useWeb3 from './useWeb3'\r\nimport useRefresh from './useRefresh'\r\n\r\nexport const useETHBalance = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const res = await web3.eth.getBalance(account)\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    if (account) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, web3, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useWcoreBalance = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokens.wcore.address[1116], web3)\r\n      const res = await contract.methods.balanceOf(account).call()\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    if (account) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, web3, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useTokenAllowance = (tokenAddress: string, targetAddress: string) => {\r\n  const [allowance, setAllowance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.allowance(account, targetAddress).call()\r\n      setAllowance(new BigNumber(res))\r\n    }\r\n\r\n    if (account && tokenAddress && targetAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, web3, fastRefresh, targetAddress])\r\n\r\n  return allowance\r\n}\r\n\r\nexport const useApprove = () => {\r\n  const [approvePending, setApprovePending] = useState(false)\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n\r\n  const handleApprove = useCallback(\r\n    async (targetAddress: string, contractAddress: string) => {\r\n      try {\r\n        setApprovePending(true)\r\n        const contract = getBep20Contract(contractAddress, web3)\r\n        const tx = await contract.methods\r\n          .approve(targetAddress, new BigNumber(2).pow(256).minus(1).toString(10))\r\n          .send({ from: account })\r\n        setApprovePending(false)\r\n        return tx\r\n      } catch (e) {\r\n        setApprovePending(false)\r\n        return false\r\n      }\r\n    },\r\n    [web3, account],\r\n  )\r\n\r\n  return { onApprove: handleApprove, approvePending }\r\n}\r\n\r\nexport const useTokenSymbol = (tokenAddress: string) => {\r\n  const [symbol, setSymbol] = useState('')\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.symbol().call()\r\n      setSymbol(res)\r\n    }\r\n\r\n    if (tokenAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [tokenAddress, web3, fastRefresh])\r\n\r\n  return symbol\r\n}\r\n\r\nexport const useTokenDecimal = (tokenAddress: string) => {\r\n  const [decimal, setDecimal] = useState(0)\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.decimals().call()\r\n      setDecimal(res)\r\n    }\r\n\r\n    if (tokenAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [tokenAddress, web3, fastRefresh])\r\n\r\n  return decimal\r\n}\r\n\r\nconst useTokenBalance = (tokenAddress: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.balanceOf(account).call()\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    if (account && tokenAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, web3, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useNFTBalance = (tokenAddress: string) => {\r\n  const [ownedTokensIds, setOwnedTokensIds] = useState([])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      setIsLoading(true)\r\n      const contract = getErc721Contract(tokenAddress, web3)\r\n      const tokenIds = await contract.methods.tokensOfOwner(account).call()\r\n      const tokensData = tokenIds.map(async (tokenId) => {\r\n        const uri = await contract.methods.tokenURI(tokenId).call()\r\n        const data = await fetch(uri)\r\n        const metadata = await data.json()\r\n        return { tokenId, ...metadata }\r\n      })\r\n      Promise.all(tokensData).then((values) => setOwnedTokensIds(values))\r\n      setIsLoading(false)\r\n    }\r\n\r\n    if (account && tokenAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, web3, fastRefresh])\r\n\r\n  return { isLoading, ownedTokensIds }\r\n}\r\n\r\nexport const useTokenBalanceFromChain = (tokenAddress: string, chainId: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = getWeb3NoAccountFromChain(chainId)\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.balanceOf(account).call()\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    if (account && tokenAddress && chainId) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, web3, fastRefresh, chainId])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useTotalSupply = () => {\r\n  const { slowRefresh } = useRefresh()\r\n  const [totalSupply, setTotalSupply] = useState<BigNumber>()\r\n\r\n  useEffect(() => {\r\n    async function fetchTotalSupply() {\r\n      const bowContract = getBowContract()\r\n      const supply = await bowContract.methods.totalSupply().call()\r\n      setTotalSupply(new BigNumber(supply))\r\n    }\r\n\r\n    fetchTotalSupply()\r\n  }, [slowRefresh])\r\n\r\n  return totalSupply\r\n}\r\n\r\nexport const useBurnedBalance = (tokenAddress: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { fastRefresh } = useRefresh()\r\n  const web3 = useWeb3()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call()\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    fetchBalance()\r\n  }, [web3, tokenAddress, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useCirculatingBalance = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { fastRefresh } = useRefresh()\r\n  const web3 = useWeb3()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const bowContract = getBowContract()\r\n      const [tRes, res0, res1, res2] = await Promise.all([\r\n        bowContract.methods.totalSupply().call(),\r\n        bowContract.methods.balanceOf('0x48Db2BD42B1F8B315Ab86C24d29C43fCDa99e984').call(), // deployer\r\n        bowContract.methods.balanceOf('0x7bf76646fbe70b13b72b0b46284f747eec5d0181').call(), // trade mining\r\n        bowContract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call(), // burn address\r\n      ])\r\n      const lockedBalance = new BigNumber(res0).plus(res1).plus(res2)\r\n      setBalance(new BigNumber(tRes).minus(lockedBalance))\r\n    }\r\n\r\n    fetchBalance()\r\n  }, [web3, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const usePairsLength = () => {\r\n  const [pairsLength, setPairsLength] = useState(0)\r\n  const { slowRefresh } = useRefresh()\r\n  const web3 = useWeb3()\r\n\r\n  useEffect(() => {\r\n    const fetchPairsLength = async () => {\r\n      const contract = getFactoryContract(web3)\r\n      const res = await contract.methods.allPairsLength().call()\r\n      setPairsLength(res)\r\n    }\r\n\r\n    fetchPairsLength()\r\n  }, [web3, slowRefresh])\r\n\r\n  return pairsLength\r\n}\r\n\r\nexport default useTokenBalance\r\n","import { useEffect, useState } from 'react'\r\nimport { marketplaceClient } from '../apollo/client'\r\nimport {\r\n  // factoryQuery,\r\n  // tokensQuery,\r\n  getERC721CollectionsQuery,\r\n  getERC721CollectionQuery,\r\n  getERC721CollectionAttributesQuery,\r\n  getERC721TokenCountQuery,\r\n  getERC721TokensQuery,\r\n  ERC721RecentEventsLiteQuery,\r\n  getERC721TokenQuery,\r\n  ERC721TokenEventsQuery,\r\n} from '../apollo/queries'\r\n\r\n/* eslint-disable camelcase */\r\n\r\nexport interface TradePair {\r\n  swap_pair_contract: string\r\n  base_symbol: string\r\n  quote_symbol: string\r\n  last_price: number\r\n  base_volume_24_h: number\r\n  quote_volume_24_h: number\r\n}\r\n\r\nexport interface ApiStatResponse {\r\n  update_at: string\r\n  '24h_total_volume': number\r\n  total_value_locked: number\r\n  total_value_locked_all: number\r\n  trade_pairs: {\r\n    [key: string]: TradePair\r\n  }\r\n}\r\n\r\nexport const useGetStats = () => {\r\n  const [data /* setData */] = useState<ApiStatResponse | null>(null)\r\n\r\n  // useEffect(() => {\r\n  //   const fetchData = async () => {\r\n  //     try {\r\n  //       const result = await bowClient.query({\r\n  //         query: factoryQuery,\r\n  //         variables: {},\r\n  //         fetchPolicy: 'no-cache',\r\n  //       })\r\n\r\n  //       if (result?.data) {\r\n  //         let pairTVL = 0\r\n  //         result.data.uniswapFactories.map((factory) => {\r\n  //           pairTVL += parseFloat(factory.totalLiquidityUSD)\r\n  //           return pairTVL\r\n  //         })\r\n\r\n  //         const responsedata: ApiStatResponse = {\r\n  //           update_at: '',\r\n  //           '24h_total_volume': 0,\r\n  //           total_value_locked: 0,\r\n  //           total_value_locked_all: pairTVL,\r\n  //           trade_pairs: null,\r\n  //         }\r\n  //         setData(responsedata)\r\n  //       }\r\n  //     } catch (error) {\r\n  //       console.error('Unable to fetch data:', error)\r\n  //     }\r\n  //   }\r\n\r\n  //   fetchData()\r\n  // }, [setData])\r\n\r\n  return data\r\n}\r\n\r\nexport const useTokensData = () => {\r\n  const [data] = useState<ApiStatResponse | 0>(0)\r\n\r\n  // useEffect(() => {\r\n  //   const fetchData = async () => {\r\n  //     try {\r\n  //       const result = await bowClient.query({\r\n  //         query: tokensQuery,\r\n  //         variables: {},\r\n  //         fetchPolicy: 'no-cache',\r\n  //       })\r\n  //       setData(result?.data?.tokens.length)\r\n  //     } catch (error) {\r\n  //       console.error('Unable to fetch data:', error)\r\n  //     }\r\n  //   }\r\n\r\n  //   fetchData()\r\n  // }, [setData])\r\n\r\n  return data\r\n}\r\n\r\n// Marketplace GraphQL\r\n\r\nexport const useCollections = () => {\r\n  const [data, setData] = useState([])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data: res } = await marketplaceClient.query({\r\n          query: getERC721CollectionsQuery,\r\n          variables: {},\r\n          fetchPolicy: 'no-cache',\r\n        })\r\n        setData(res.GetERC721Collections || [])\r\n      } catch (error) {\r\n        console.error('Unable to fetch data:', error)\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [setData])\r\n\r\n  return data\r\n}\r\n\r\nexport const useCollection = (alias: string) => {\r\n  const [data, setData] = useState({})\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data: res }: any = await marketplaceClient.query({\r\n          query: getERC721CollectionQuery(alias),\r\n          variables: {},\r\n          fetchPolicy: 'no-cache',\r\n        })\r\n        if (res.GetERC721Collection && res.GetERC721Collection.length !== 0) {\r\n          setData(res.GetERC721Collection[0])\r\n        }\r\n      } catch (error) {\r\n        console.error('Unable to fetch data:', error)\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [alias])\r\n\r\n  return data\r\n}\r\n\r\nexport const useCollectionAttributes = (alias: string) => {\r\n  const [data, setData] = useState({})\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data: res }: any = await marketplaceClient.query({\r\n          query: getERC721CollectionAttributesQuery(alias),\r\n          variables: {},\r\n          fetchPolicy: 'no-cache',\r\n        })\r\n        if (res.GetERC721CollectionAttributes) {\r\n          setData(res.GetERC721CollectionAttributes)\r\n        }\r\n      } catch (error) {\r\n        console.error('Unable to fetch data:', error)\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [alias])\r\n\r\n  return data\r\n}\r\n\r\nlet currentInput1 = {}\r\nexport const useERC721TokenCount = (input: any) => {\r\n  const [data, setData] = useState({})\r\n\r\n  useEffect(() => {\r\n    currentInput1 = {}\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data: res }: any = await marketplaceClient.query({\r\n          query: getERC721TokenCountQuery,\r\n          variables: { input },\r\n          fetchPolicy: 'no-cache',\r\n        })\r\n        if (res.GetERC721TokenCount) {\r\n          setData(res.GetERC721TokenCount)\r\n        }\r\n      } catch (error) {\r\n        console.error('Unable to fetch data:', error)\r\n      }\r\n    }\r\n    if (input.pageSize && input.filters && JSON.stringify(input) !== JSON.stringify(currentInput1)) {\r\n      currentInput1 = input\r\n      fetchData()\r\n    }\r\n  }, [input])\r\n\r\n  return data\r\n}\r\n\r\nlet currentInput2 = {}\r\nexport const useERC721Tokens = (input: any) => {\r\n  const [data, setData] = useState({})\r\n\r\n  useEffect(() => {\r\n    currentInput2 = {}\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data: res }: any = await marketplaceClient.query({\r\n          query: getERC721TokensQuery,\r\n          variables: { input },\r\n          fetchPolicy: 'no-cache',\r\n        })\r\n        if (res.GetERC721Tokens) {\r\n          setData(res.GetERC721Tokens)\r\n        }\r\n      } catch (error) {\r\n        console.error('Unable to fetch data:', error)\r\n      }\r\n    }\r\n    if (JSON.stringify(input) !== JSON.stringify(currentInput2)) {\r\n      currentInput2 = input\r\n      fetchData()\r\n    }\r\n  }, [input])\r\n\r\n  return data\r\n}\r\n\r\nlet currentInput3 = {}\r\nexport const useERC721RecentEventsLite = (input: any) => {\r\n  const [data, setData] = useState([])\r\n\r\n  useEffect(() => {\r\n    currentInput3 = {}\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data: res }: any = await marketplaceClient.query({\r\n          query: ERC721RecentEventsLiteQuery,\r\n          variables: { input },\r\n          fetchPolicy: 'no-cache',\r\n        })\r\n        if (res.ERC721RecentEventsLite) {\r\n          setData(res.ERC721RecentEventsLite)\r\n        }\r\n      } catch (error) {\r\n        console.error('Unable to fetch data:', error)\r\n      }\r\n    }\r\n    if (input.chainId && input.tokenAddress && JSON.stringify(input) !== JSON.stringify(currentInput3)) {\r\n      currentInput3 = input\r\n      fetchData()\r\n    }\r\n  }, [input])\r\n\r\n  return data\r\n}\r\n\r\nexport const useERC721Token = (alias: string, tokenId: string) => {\r\n  const [data, setData] = useState({})\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data: res }: any = await marketplaceClient.query({\r\n          query: getERC721TokenQuery(alias, tokenId),\r\n          variables: {},\r\n          fetchPolicy: 'no-cache',\r\n        })\r\n        if (res.GetERC721Token) {\r\n          setData(res.GetERC721Token)\r\n        }\r\n      } catch (error) {\r\n        console.error('Unable to fetch data:', error)\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [alias, tokenId])\r\n\r\n  return data\r\n}\r\n\r\nlet currentInput4 = {}\r\nexport const useERC721TokenEvents = (input: any) => {\r\n  const [data, setData] = useState([])\r\n\r\n  useEffect(() => {\r\n    currentInput4 = {}\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data: res }: any = await marketplaceClient.query({\r\n          query: ERC721TokenEventsQuery,\r\n          variables: { input },\r\n          fetchPolicy: 'no-cache',\r\n        })\r\n        if (res.ERC721TokenEvents) {\r\n          setData(res.ERC721TokenEvents)\r\n        }\r\n      } catch (error) {\r\n        console.error('Unable to fetch data:', error)\r\n      }\r\n    }\r\n    if (input.chainId && input.tokenAddress && JSON.stringify(input) !== JSON.stringify(currentInput4)) {\r\n      currentInput4 = input\r\n      fetchData()\r\n    }\r\n  }, [input])\r\n\r\n  return data\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Button } from 'archerswap-uikit'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst AnalyticHeadContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  // a {\r\n  //   margin-right: 24px;\r\n  // }\r\n`\r\nconst AnalyticHead = () => {\r\n  return (\r\n    <AnalyticHeadContainer>\r\n      <Link to=\"/my-nfts\">\r\n        <Button>My NFTs</Button>\r\n      </Link>\r\n      {/* <ActivityBar />\r\n      <SearchBar /> */}\r\n    </AnalyticHeadContainer>\r\n  )\r\n}\r\n\r\nexport default AnalyticHead\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Box from '@mui/material/Box'\r\nimport Typography from '@mui/material/Typography'\r\nimport Divider from '@mui/material/Divider'\r\nimport IconButton from '@mui/material/IconButton'\r\n\r\nconst InfoWrap = styled(Box)`\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 20px;\r\n  box-shadow: 0px 4px 10px rgba(105, 105, 105, 0.15);\r\n\r\n  span,\r\n  a,\r\n  p {\r\n    color: ${({ theme }) => theme.colors.text};\r\n  }\r\n`\r\n\r\nconst Info = ({ collectionInfo }: any) => {\r\n  return (\r\n    <InfoWrap>\r\n      <Box sx={{}}>\r\n        <Typography sx={{ py: '16px', px: '24px' }}>Info</Typography>\r\n        <Divider />\r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            gap: '25px',\r\n            py: '20px',\r\n            px: '24px',\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              gap: { xs: '10px', md: '20px' },\r\n              boxShadow: 'none',\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                gap: '15px',\r\n              }}\r\n            >\r\n              <a href={collectionInfo?.websiteUrl} rel=\"noreferrer\" target=\"_blank\">\r\n                <IconButton\r\n                  aria-label=\"search\"\r\n                  sx={{\r\n                    padding: '0',\r\n                    boxShadow: 'none',\r\n                    width: '32px',\r\n                    height: '32px',\r\n                    borderRadius: '50%',\r\n                    backgroundColor: '#3960C1',\r\n                    cursor: 'pointer',\r\n                    ':hover': {\r\n                      backgroundColor: '#3960C1',\r\n                    },\r\n                  }}\r\n                >\r\n                  <img src=\"/images/nfts/marketplace/global.svg\" alt=\"global\" />\r\n                </IconButton>\r\n              </a>\r\n              <Typography>Website</Typography>\r\n            </Box>\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n                gap: '15px',\r\n              }}\r\n            >\r\n              <IconButton\r\n                aria-label=\"search\"\r\n                sx={{\r\n                  padding: '0',\r\n                  boxShadow: 'none',\r\n                  width: '32px',\r\n                  height: '32px',\r\n                  borderRadius: '50%',\r\n                  backgroundColor: '#3960C1',\r\n                  cursor: 'pointer',\r\n                  ':hover': {\r\n                    backgroundColor: '#3960C1',\r\n                  },\r\n                }}\r\n              >\r\n                <a\r\n                  href={`https://scan.coredao.org/address/${collectionInfo?.address}`}\r\n                  rel=\"noreferrer\"\r\n                  target=\"_blank\"\r\n                >\r\n                  <img src=\"/images/nfts/marketplace/scan.svg\" alt=\"scan\" />\r\n                </a>\r\n              </IconButton>\r\n              <Typography>Contract</Typography>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </InfoWrap>\r\n  )\r\n}\r\n\r\nexport default Info\r\n","import React from 'react'\r\nimport Box from '@mui/material/Box'\r\nimport CardMedia from '@mui/material/CardMedia'\r\n\r\nconst TokenImage = ({ imageUrl }: any) => {\r\n  return (\r\n    <>\r\n      <Box width=\"100%\" sx={{ pt: '100%', position: 'relative' }}>\r\n        <CardMedia\r\n          component=\"img\"\r\n          height=\"auto\"\r\n          image={imageUrl}\r\n          alt=\"\"\r\n          sx={{\r\n            borderRadius: '12px',\r\n            bottom: 0,\r\n            left: 0,\r\n            margin: 'auto',\r\n            height: '100%',\r\n            maxWidth: '100%',\r\n            right: 0,\r\n            position: 'absolute',\r\n            top: 0,\r\n          }}\r\n        />\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TokenImage\r\n","import React from 'react'\r\nimport Countdown from 'react-countdown'\r\nimport Typography from '@mui/material/Typography'\r\n\r\nexport default function CountTimeDown({ timestamp, onExpired }: any) {\r\n  const renderer = ({ days, hours, minutes, completed }: any) => {\r\n    if (completed) {\r\n      onExpired()\r\n      return <></>\r\n      // Render a completed state\r\n    }\r\n    // Render a countdown\r\n    return (\r\n      <Typography sx={{ fontSize: '12px', color: '#666666' }}>\r\n        {days ? `${days} days : ` : ''}\r\n        {hours ? `${hours} hours : ` : ''}\r\n        {minutes ? `${minutes} minutes` : ''}\r\n      </Typography>\r\n    )\r\n  }\r\n  if (!timestamp) {\r\n    return null\r\n  }\r\n  return <Countdown date={timestamp * 1000} renderer={renderer} />\r\n}\r\n","import InputBase from '@mui/material/InputBase'\r\nimport { styled } from '@mui/material/styles'\r\n\r\nexport const StyledSearch = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  position: 'relative',\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.grey[100],\r\n  width: '100%',\r\n}))\r\n\r\nexport const SearchIconWrapper = styled('div')(({ theme }) => ({\r\n  padding: theme.spacing(0, 2),\r\n  height: '100%',\r\n  right: 0,\r\n  position: 'absolute',\r\n  pointerEvents: 'none',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}))\r\n\r\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  color: 'inherit',\r\n  width: '100%',\r\n  '& .MuiInputBase-input': {\r\n    padding: theme.spacing(2.5, 2.1, 2.3, 2.5),\r\n    // vertical padding + font size from searchIcon\r\n    paddingRight: `calc(1em + ${theme.spacing(6)})`,\r\n    width: '100%',\r\n  },\r\n}))\r\n","import React, { useState, useEffect } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport moment from 'moment'\r\nimport styled from 'styled-components'\r\nimport Box from '@mui/material/Box'\r\nimport Stepper from '@mui/material/Stepper'\r\nimport Step from '@mui/material/Step'\r\nimport StepLabel from '@mui/material/StepLabel'\r\nimport Button from '@mui/material/Button'\r\nimport Typography from '@mui/material/Typography'\r\nimport CircularProgress from '@mui/material/CircularProgress'\r\nimport { useGetIsApprovedForAll, useApproveNFT, useListToken } from 'hooks/useNftMarketplace'\r\nimport { usePriceCoreUsd } from 'state/hooks'\r\nimport { StyledSearch, SearchIconWrapper, StyledInputBase } from './styles'\r\n\r\nconst TokenListingContainer = styled(Box)`\r\n  .expiry-item {\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n    color: ${({ theme }) => theme.colors.text};\r\n  }\r\n`\r\n\r\nconst ExpiryTimes = [\r\n  {\r\n    label: '3 days',\r\n    days: 3,\r\n  },\r\n  {\r\n    label: '7 days',\r\n    days: 7,\r\n  },\r\n  {\r\n    label: '30 days',\r\n    days: 30,\r\n  },\r\n  {\r\n    label: '6 months',\r\n    days: 180,\r\n  },\r\n]\r\n\r\nconst TokenListing = ({ collectionInfo, tokenInfo, serviceFee, royalty, onCancel }: any) => {\r\n  const [steps, setSteps] = useState<any>(['Sell price', 'Approve', 'Sign'])\r\n  const [activeStep, setActiveStep] = useState(0)\r\n  const [listingPrice, setListingPrice] = useState(0)\r\n  const [expiryDays, setExpiryDays] = useState(3)\r\n\r\n  const [isLoading, approveNFT] = useApproveNFT(collectionInfo?.address)\r\n  const [isApproved, getIsApprovedForAll] = useGetIsApprovedForAll(collectionInfo?.address)\r\n  const [isListingLoading, isListed, listToken] = useListToken()\r\n  const priceData: any = usePriceCoreUsd()\r\n\r\n  useEffect(() => {\r\n    if (activeStep === 0 && isApproved && steps.length === 3) {\r\n      setSteps(['Sell price', 'Sign'])\r\n    }\r\n  }, [activeStep, isApproved, steps])\r\n\r\n  useEffect(() => {\r\n    if (activeStep === 1 && isApproved && steps.length === 3) {\r\n      setActiveStep(2)\r\n    }\r\n  }, [activeStep, isApproved, steps])\r\n\r\n  useEffect(() => {\r\n    getIsApprovedForAll()\r\n  }, [isLoading, getIsApprovedForAll])\r\n\r\n  const handleStep = () => {\r\n    if ((activeStep === 0 || activeStep === 1) && !isApproved) {\r\n      setActiveStep(1)\r\n      approveNFT()\r\n    }\r\n    if (activeStep === 0 && isApproved) {\r\n      setActiveStep(1)\r\n    }\r\n    if ((activeStep === 2 && !isListed) || (activeStep === 1 && isApproved && !isListed)) {\r\n      listToken(\r\n        collectionInfo?.address,\r\n        tokenInfo.tokenId,\r\n        new BigNumber(listingPrice).toString(10),\r\n        moment().add('days', expiryDays).unix(),\r\n      )\r\n    }\r\n    if ((activeStep === 2 && isListed) || (activeStep === 1 && isApproved && isListed)) {\r\n      onCancel()\r\n    }\r\n  }\r\n  const handleInputPrice = (v: any) => {\r\n    setListingPrice(v.target.value || 0)\r\n  }\r\n\r\n  return (\r\n    <TokenListingContainer>\r\n      <Box\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 24,\r\n          }}\r\n        >\r\n          List onto market\r\n        </Typography>\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 16,\r\n            cursor: 'pointer',\r\n          }}\r\n          onClick={onCancel}\r\n        >\r\n          {isListed ? 'Done' : 'Cancel'}\r\n        </Typography>\r\n      </Box>\r\n      <Box\r\n        sx={{\r\n          width: '100%',\r\n          padding: '24px 4px',\r\n          marginTop: '24px',\r\n          borderRadius: '12px',\r\n        }}\r\n      >\r\n        <Stepper activeStep={activeStep}>\r\n          {steps.map((label: any) => {\r\n            return (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            )\r\n          })}\r\n        </Stepper>\r\n      </Box>\r\n      <Box\r\n        style={{\r\n          marginTop: '32px',\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 24,\r\n          }}\r\n        >\r\n          {activeStep === 0 && 'Sell Price'}\r\n          {activeStep === 1 && !isApproved && 'Approve'}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) && !isListingLoading && !isListed && 'Sign'}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) &&\r\n            isListingLoading &&\r\n            !isListed &&\r\n            'Listing in progress'}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) && isListed && 'Successfully listed!'}\r\n        </Typography>\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 16,\r\n            marginTop: '32px',\r\n          }}\r\n        >\r\n          {activeStep === 0 && 'Enter price in CORE for this NFT'}\r\n          {activeStep === 1 && !isApproved && 'Perform this with your wallet'}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) &&\r\n            !isListingLoading &&\r\n            !isListed &&\r\n            'Set your sale listing expiry time'}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) &&\r\n            isListingLoading &&\r\n            !isListed &&\r\n            'Please wait while we confirm your listing'}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) &&\r\n            isListed &&\r\n            isListed &&\r\n            `Your NFT is now listed for ${listingPrice} CORE`}\r\n        </Typography>\r\n        <Box\r\n          style={{\r\n            marginTop: '24px',\r\n          }}\r\n        >\r\n          {activeStep === 0 && (\r\n            <StyledSearch>\r\n              <StyledInputBase type=\"number\" placeholder=\"0.0\" onChange={handleInputPrice} />\r\n              <SearchIconWrapper>CORE</SearchIconWrapper>\r\n            </StyledSearch>\r\n          )}\r\n          {activeStep === 1 && !isApproved && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              Awaiting your approval to list your NFTs\r\n            </Typography>\r\n          )}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) && !isListingLoading && !isListed && (\r\n            <Box\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                border: '1px solid rgba(0, 0, 0, 0.1)',\r\n                borderRadius: 32,\r\n              }}\r\n            >\r\n              {ExpiryTimes.map((expiry: any) => (\r\n                <div\r\n                  style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n                    flex: 1,\r\n                    padding: '10px',\r\n                    borderRadius: 32,\r\n                    fontSize: 12,\r\n                    fontWeight: 600,\r\n                    cursor: 'pointer',\r\n                    backgroundColor: expiryDays === expiry.days ? '#3960C1' : '',\r\n                  }}\r\n                  key={expiry.label}\r\n                  onClick={() => setExpiryDays(expiry.days)}\r\n                  role=\"presentation\"\r\n                >\r\n                  {expiry.label}\r\n                </div>\r\n              ))}\r\n            </Box>\r\n          )}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) && !isListingLoading && !isListed && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n                marginTop: 24,\r\n              }}\r\n            >\r\n              Your listing will expire on {moment().add('days', expiryDays).format('LLL')}\r\n            </Typography>\r\n          )}\r\n        </Box>\r\n        <Box\r\n          style={{\r\n            marginTop: '24px',\r\n          }}\r\n        >\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) && !isListingLoading && !isListed && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n                padding: '24px 0',\r\n                borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n              }}\r\n            >\r\n              Your listing price is {listingPrice} CORE($\r\n              {new BigNumber(listingPrice || 0)\r\n                .times(priceData || 0)\r\n                .dp(2, 1)\r\n                .toString()}\r\n              )\r\n            </Typography>\r\n          )}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) && isListed && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n                padding: '24px 0',\r\n                borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n              }}\r\n            >\r\n              Your NFT is now for sale on the marketplace. The NFT still remains in your wallet\r\n            </Typography>\r\n          )}\r\n          {(activeStep === 2 || (activeStep === 1 && isApproved)) && isListingLoading && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n                padding: '24px 0',\r\n                borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n              }}\r\n            >\r\n              Your NFT is being listed on the marketplace\r\n            </Typography>\r\n          )}\r\n          <Button\r\n            sx={{ width: '100%', py: '12px', backgroundColor: '#3960C1' }}\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            disableElevation\r\n            disabled={activeStep === 0 && new BigNumber(listingPrice || 0).isLessThanOrEqualTo(0)}\r\n            onClick={handleStep}\r\n          >\r\n            {activeStep === 0 && 'Next Step'}\r\n            {activeStep === 1 && !isApproved && (\r\n              <>\r\n                {isLoading && (\r\n                  <CircularProgress\r\n                    style={{\r\n                      width: 20,\r\n                      height: 20,\r\n                      marginRight: 6,\r\n                      color: 'red',\r\n                    }}\r\n                    color=\"secondary\"\r\n                  />\r\n                )}\r\n                {isLoading ? 'Pending approval' : 'Approve'}\r\n              </>\r\n            )}\r\n            {(activeStep === 2 || (activeStep === 1 && isApproved)) && !isListed && (\r\n              <>\r\n                {isListingLoading && (\r\n                  <CircularProgress\r\n                    style={{\r\n                      width: 20,\r\n                      height: 20,\r\n                      marginRight: 6,\r\n                      color: 'red',\r\n                    }}\r\n                    color=\"secondary\"\r\n                  />\r\n                )}\r\n                {isListingLoading ? 'Pending confirmation' : 'List NFT for sale'}\r\n              </>\r\n            )}\r\n            {(activeStep === 2 || (activeStep === 1 && isApproved)) && isListed && 'Done'}\r\n          </Button>\r\n        </Box>\r\n        {activeStep === 0 && (\r\n          <Box\r\n            style={{\r\n              marginTop: '24px',\r\n            }}\r\n          >\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              Once sold, the following fees will be deducted:\r\n            </Typography>\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              {serviceFee}% service fee | {royalty}% creator royalty | You get approx{' '}\r\n              {new BigNumber(\r\n                listingPrice -\r\n                  listingPrice * (+serviceFee / 100) -\r\n                  (listingPrice - listingPrice * (+serviceFee / 100)) * (+royalty / 100),\r\n              )\r\n                .dp(2, 1)\r\n                .toString(10)}{' '}\r\n              CORE\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </TokenListingContainer>\r\n  )\r\n}\r\n\r\nexport default TokenListing\r\n","import InputBase from '@mui/material/InputBase'\r\nimport { styled } from '@mui/material/styles'\r\n\r\nexport const StyledSearch = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  position: 'relative',\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.grey[100],\r\n  width: '100%',\r\n}))\r\n\r\nexport const SearchIconWrapper = styled('div')(() => ({\r\n  height: '100%',\r\n  right: 40,\r\n  position: 'absolute',\r\n  pointerEvents: 'none',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}))\r\n\r\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  color: 'inherit',\r\n  width: '100%',\r\n  '& .MuiInputBase-input': {\r\n    padding: theme.spacing(2.5, 2.1, 2.3, 2.5),\r\n    // vertical padding + font size from searchIcon\r\n    paddingRight: `calc(1em + ${theme.spacing(6)})`,\r\n    width: '100%',\r\n  },\r\n}))\r\n","import React, { useState, useEffect } from 'react'\r\nimport Web3 from 'web3'\r\n\r\nimport Box from '@mui/material/Box'\r\nimport Stepper from '@mui/material/Stepper'\r\nimport Step from '@mui/material/Step'\r\nimport StepLabel from '@mui/material/StepLabel'\r\nimport Button from '@mui/material/Button'\r\nimport Typography from '@mui/material/Typography'\r\nimport CircularProgress from '@mui/material/CircularProgress'\r\nimport { useTransferToken } from 'hooks/useNftMarketplace'\r\nimport { StyledSearch, SearchIconWrapper, StyledInputBase } from './styles'\r\n\r\nconst steps = ['Enter CORE address', 'Success']\r\nconst TokenTransfer = ({ account, collectionInfo, tokenInfo, onCancel }: any) => {\r\n  const [activeStep, setActiveStep] = useState(0)\r\n  const [destAddress, setDestAddress] = useState('')\r\n\r\n  const [isTransferLoading, isTransferred, transferToken] = useTransferToken(collectionInfo?.address)\r\n\r\n  useEffect(() => {\r\n    if (isTransferred) {\r\n      setActiveStep(1)\r\n    }\r\n  }, [isTransferred])\r\n\r\n  const handleStep = () => {\r\n    if (activeStep === 0) {\r\n      transferToken(account, destAddress, tokenInfo?.tokenId)\r\n    } else {\r\n      onCancel()\r\n    }\r\n  }\r\n  const handleInputAddress = (v: any) => {\r\n    setDestAddress(v.target.value || 0)\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Box\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 24,\r\n          }}\r\n        >\r\n          Transfer ownership\r\n        </Typography>\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 16,\r\n            cursor: 'pointer',\r\n          }}\r\n          onClick={onCancel}\r\n        >\r\n          {isTransferred ? 'Done' : 'Cancel'}\r\n        </Typography>\r\n      </Box>\r\n      <Box\r\n        sx={{\r\n          width: '100%',\r\n          padding: '24px 4px',\r\n          marginTop: '24px',\r\n          borderRadius: '12px',\r\n        }}\r\n      >\r\n        <Stepper activeStep={activeStep}>\r\n          {steps.map((label: any) => {\r\n            return (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            )\r\n          })}\r\n        </Stepper>\r\n      </Box>\r\n      <Box\r\n        style={{\r\n          marginTop: '32px',\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 24,\r\n          }}\r\n        >\r\n          {activeStep === 0 && 'Enter CORE address'}\r\n          {activeStep === 1 && 'Successfully transfered!'}\r\n        </Typography>\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 16,\r\n            marginTop: '32px',\r\n          }}\r\n        >\r\n          {activeStep === 0 && `Transfer ${tokenInfo?.name || ''}`}\r\n        </Typography>\r\n        <Box\r\n          style={{\r\n            marginTop: '24px',\r\n          }}\r\n        >\r\n          {activeStep === 0 && (\r\n            <StyledSearch>\r\n              <StyledInputBase type=\"text\" placeholder=\"Enter a valid address\" onChange={handleInputAddress} />\r\n              <SearchIconWrapper>\r\n                <Box sx={{ maxWidth: '20px' }}>CORE</Box>\r\n              </SearchIconWrapper>\r\n            </StyledSearch>\r\n          )}\r\n        </Box>\r\n        <Box\r\n          style={{\r\n            marginTop: '24px',\r\n          }}\r\n        >\r\n          {activeStep === 0 && Web3.utils.isAddress(destAddress) && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n                padding: '24px 0',\r\n                borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n              }}\r\n            >\r\n              Please confirm this address is correct{' '}\r\n              <strong>{`${destAddress.substr(0, 4)}...${destAddress.substr(destAddress.length - 4, 4)}`}</strong>\r\n            </Typography>\r\n          )}\r\n          <Button\r\n            sx={{ width: '100%', py: '12px', backgroundColor: '#3960C1' }}\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            disableElevation\r\n            disabled={activeStep === 0 && !Web3.utils.isAddress(destAddress)}\r\n            onClick={handleStep}\r\n          >\r\n            {isTransferLoading && (\r\n              <CircularProgress\r\n                style={{\r\n                  width: 20,\r\n                  height: 20,\r\n                  marginRight: 6,\r\n                  color: 'red',\r\n                }}\r\n                color=\"secondary\"\r\n              />\r\n            )}\r\n            {activeStep === 0 && 'Transfer'}\r\n            {activeStep === 1 && 'Done'}\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default TokenTransfer\r\n","import InputBase from '@mui/material/InputBase'\r\nimport { styled } from '@mui/material/styles'\r\n\r\nexport const StyledSearch = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  position: 'relative',\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.grey[100],\r\n  width: '100%',\r\n}))\r\n\r\nexport const SearchIconWrapper = styled('div')(({ theme }) => ({\r\n  padding: theme.spacing(0, 2),\r\n  height: '100%',\r\n  right: 0,\r\n  position: 'absolute',\r\n  pointerEvents: 'none',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n}))\r\n\r\nexport const StyledInputBase = styled(InputBase)(({ theme }) => ({\r\n  color: 'inherit',\r\n  width: '100%',\r\n  '& .MuiInputBase-input': {\r\n    padding: theme.spacing(2.5, 2.1, 2.3, 2.5),\r\n    // vertical padding + font size from searchIcon\r\n    paddingRight: `calc(1em + ${theme.spacing(9)})`,\r\n    width: '100%',\r\n  },\r\n}))\r\n","import React, { useState, useEffect } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport moment from 'moment'\r\nimport styled from 'styled-components'\r\nimport Box from '@mui/material/Box'\r\nimport Stepper from '@mui/material/Stepper'\r\nimport Step from '@mui/material/Step'\r\nimport StepLabel from '@mui/material/StepLabel'\r\nimport Button from '@mui/material/Button'\r\nimport Typography from '@mui/material/Typography'\r\nimport CircularProgress from '@mui/material/CircularProgress'\r\nimport { useGetAllowanceWCORE, useConvertToWCORE, useApproveWCORE, useBidToken } from 'hooks/useNftMarketplace'\r\nimport { StyledSearch, SearchIconWrapper, StyledInputBase } from './styles'\r\n\r\nconst TokenPlaceBidContainer = styled(Box)`\r\n  .expiry-item {\r\n    background-color: ${({ theme }) => theme.colors.background};\r\n    color: ${({ theme }) => theme.colors.text};\r\n  }\r\n`\r\nconst ExpiryTimes = [\r\n  {\r\n    label: '3 days',\r\n    days: 3,\r\n  },\r\n  {\r\n    label: '7 days',\r\n    days: 7,\r\n  },\r\n  {\r\n    label: '30 days',\r\n    days: 30,\r\n  },\r\n  {\r\n    label: '6 months',\r\n    days: 180,\r\n  },\r\n]\r\n\r\nconst TokenPlaceBid = ({ collectionInfo, tokenInfo, coreBalance, wcoreBalance, onCancel, onPlaceBid }: any) => {\r\n  const [steps, setSteps] = useState(['Bid amount', 'Convert', 'Approve', 'Sign'])\r\n  const [activeStep, setActiveStep] = useState(0)\r\n  const [bidAmount, setBidAmount] = useState(0)\r\n  const [expiryDays, setExpiryDays] = useState(3)\r\n\r\n  const [isAllowedWCORE] = useGetAllowanceWCORE()\r\n  const [isConvertLoading, isConverted, convertToWCORE] = useConvertToWCORE()\r\n  const [isApproveLoading, isWcoreApproved, approveWCORE] = useApproveWCORE()\r\n  const [isBidLoading, isPlaceBid, bidToken] = useBidToken()\r\n\r\n  useEffect(() => {\r\n    if (isConverted) {\r\n      setActiveStep(!isAllowedWCORE ? steps.length - 2 : steps.length - 1)\r\n    }\r\n  }, [isConverted, isAllowedWCORE, steps])\r\n\r\n  useEffect(() => {\r\n    if (isWcoreApproved) {\r\n      setActiveStep(steps.length - 1)\r\n    }\r\n  }, [isWcoreApproved, steps])\r\n\r\n  useEffect(() => {\r\n    if (isPlaceBid) {\r\n      onPlaceBid()\r\n    }\r\n  }, [isPlaceBid, onPlaceBid])\r\n\r\n  useEffect(() => {\r\n    if (new BigNumber(bidAmount).isGreaterThan(wcoreBalance)) {\r\n      setSteps(!isAllowedWCORE ? ['Bid amount', 'Convert', 'Approve', 'Sign'] : ['Bid amount', 'Convert', 'Sign'])\r\n    } else {\r\n      setSteps(!isAllowedWCORE ? ['Bid amount', 'Approve', 'Sign'] : ['Bid amount', 'Sign'])\r\n    }\r\n  }, [bidAmount, isAllowedWCORE, wcoreBalance])\r\n\r\n  const handleStep = () => {\r\n    if (activeStep === 0) {\r\n      setActiveStep(1)\r\n    }\r\n\r\n    if (steps[activeStep] === 'Convert') {\r\n      convertToWCORE(new BigNumber(bidAmount).minus(wcoreBalance).toString(10))\r\n    }\r\n    if (steps[activeStep] === 'Approve') {\r\n      approveWCORE()\r\n    }\r\n    if (steps[activeStep] === 'Sign' && !isPlaceBid) {\r\n      bidToken(\r\n        collectionInfo?.address,\r\n        tokenInfo.tokenId,\r\n        new BigNumber(bidAmount).toString(10),\r\n        moment().add('days', expiryDays).unix(),\r\n      )\r\n    }\r\n    if (isPlaceBid) {\r\n      onCancel()\r\n    }\r\n  }\r\n  const handleInputAmount = (v: any) => {\r\n    setBidAmount(v.target.value || 0)\r\n  }\r\n\r\n  return (\r\n    <TokenPlaceBidContainer>\r\n      <Box\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 24,\r\n          }}\r\n        >\r\n          Place a bid\r\n        </Typography>\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 16,\r\n            cursor: 'pointer',\r\n          }}\r\n          onClick={onCancel}\r\n        >\r\n          {!isPlaceBid ? 'Cancel' : 'Done'}\r\n        </Typography>\r\n      </Box>\r\n      <Box\r\n        sx={{\r\n          width: '100%',\r\n          padding: '24px 4px',\r\n          marginTop: '24px',\r\n          borderRadius: '12px',\r\n        }}\r\n      >\r\n        <Stepper activeStep={activeStep}>\r\n          {steps.map((label: any) => {\r\n            return (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            )\r\n          })}\r\n        </Stepper>\r\n      </Box>\r\n      <Box\r\n        style={{\r\n          marginTop: '32px',\r\n        }}\r\n      >\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 24,\r\n          }}\r\n        >\r\n          {activeStep === 0 && 'Bid amount'}\r\n          {steps[activeStep] === 'Convert' && 'Convert'}\r\n          {steps[activeStep] === 'Approve' && 'Approve'}\r\n          {steps[activeStep] === 'Sign' && !isPlaceBid && !isBidLoading && 'Sign'}\r\n          {steps[activeStep] === 'Sign' && !isPlaceBid && isBidLoading && 'Bid in progress'}\r\n          {steps[activeStep] === 'Sign' && isPlaceBid && 'Your bid is placed'}\r\n        </Typography>\r\n        <Typography\r\n          variant=\"h1\"\r\n          style={{\r\n            fontSize: 16,\r\n            marginTop: '32px',\r\n          }}\r\n        >\r\n          {activeStep === 0 && `Your bid for this NFT`}\r\n          {(steps[activeStep] === 'Convert' || steps[activeStep] === 'Approve') && `Perform this with your wallet`}\r\n          {steps[activeStep] === 'Sign' && !isPlaceBid && !isBidLoading && 'Set your bid expiry time'}\r\n          {steps[activeStep] === 'Sign' && !isPlaceBid && isBidLoading && 'Please wait while we confirm your bid'}\r\n          {steps[activeStep] === 'Sign' &&\r\n            isPlaceBid &&\r\n            `Please keep your ${bidAmount} WCORE available in your wallet for the bid to be valid.`}\r\n        </Typography>\r\n        <Box\r\n          style={{\r\n            marginTop: '24px',\r\n          }}\r\n        >\r\n          {activeStep === 0 && (\r\n            <StyledSearch>\r\n              <StyledInputBase type=\"number\" placeholder=\"0.0\" onChange={handleInputAmount} />\r\n              <SearchIconWrapper>WCORE</SearchIconWrapper>\r\n            </StyledSearch>\r\n          )}\r\n        </Box>\r\n        {activeStep === 0 && (\r\n          <Box\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginTop: '24px',\r\n            }}\r\n          >\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              Your CORE balance\r\n            </Typography>\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              {new BigNumber(coreBalance).dp(2, 1).toString(10)} CORE\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n        {activeStep === 0 && (\r\n          <Box\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginTop: '24px',\r\n            }}\r\n          >\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              Your WCORE balance\r\n            </Typography>\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              {new BigNumber(wcoreBalance).dp(2, 1).toString(10)} WCORE\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n        {steps[activeStep] === 'Convert' && (\r\n          <Box\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginTop: '24px',\r\n            }}\r\n          >\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              From\r\n            </Typography>\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              {new BigNumber(bidAmount).minus(wcoreBalance).toString(10)} CORE\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n        {steps[activeStep] === 'Convert' && (\r\n          <Box\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginTop: '24px',\r\n            }}\r\n          >\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              To\r\n            </Typography>\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n              }}\r\n            >\r\n              {new BigNumber(bidAmount).minus(wcoreBalance).toString(10)} WCORE\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n        {steps[activeStep] === 'Sign' && !isPlaceBid && !isBidLoading && (\r\n          <Box\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              border: '1px solid rgba(0, 0, 0, 0.1)',\r\n              borderRadius: 32,\r\n            }}\r\n          >\r\n            {ExpiryTimes.map((expiry: any) => (\r\n              <div\r\n                className=\"expiry-item\"\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  flex: 1,\r\n                  padding: '10px',\r\n                  borderRadius: 32,\r\n                  fontSize: 12,\r\n                  fontWeight: 600,\r\n                  cursor: 'pointer',\r\n                  backgroundColor: expiryDays === expiry.days ? '#3960C1' : '',\r\n                }}\r\n                key={expiry.label}\r\n                onClick={() => setExpiryDays(expiry.days)}\r\n                role=\"presentation\"\r\n              >\r\n                {expiry.label}\r\n              </div>\r\n            ))}\r\n          </Box>\r\n        )}\r\n        {steps[activeStep] === 'Sign' && !isPlaceBid && !isBidLoading && (\r\n          <Typography\r\n            style={{\r\n              fontSize: 14,\r\n              marginTop: 24,\r\n            }}\r\n          >\r\n            Your bid will expire on {moment().add('days', expiryDays).format('LLL')}\r\n          </Typography>\r\n        )}\r\n        <Box\r\n          style={{\r\n            marginTop: '24px',\r\n          }}\r\n        >\r\n          {new BigNumber(bidAmount).isGreaterThan(wcoreBalance) &&\r\n            (steps[activeStep] === 'Bid amount' || steps[activeStep] === 'Convert') && (\r\n              <Typography\r\n                style={{\r\n                  fontSize: 14,\r\n                  padding: '24px 0',\r\n                  borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n                }}\r\n              >\r\n                {new BigNumber(bidAmount).minus(wcoreBalance).toString(10)} CORE will be converted to{' '}\r\n                {new BigNumber(bidAmount).minus(wcoreBalance).toString(10)} WCORE\r\n              </Typography>\r\n            )}\r\n          {steps[activeStep] === 'Sign' && !isPlaceBid && !isBidLoading && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n                padding: '24px 0',\r\n                borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n              }}\r\n            >\r\n              You&apos;re placing a bid for {bidAmount} WCORE\r\n            </Typography>\r\n          )}\r\n          {steps[activeStep] === 'Sign' && !isPlaceBid && isBidLoading && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n                padding: '24px 0',\r\n                borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n              }}\r\n            >\r\n              Your bid on the NFT is being placed\r\n            </Typography>\r\n          )}\r\n          {steps[activeStep] === 'Sign' && isPlaceBid && (\r\n            <Typography\r\n              style={{\r\n                fontSize: 14,\r\n                padding: '24px 0',\r\n                borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n              }}\r\n            >\r\n              Your bid will expire on {moment().add('days', expiryDays).format('LLL')}\r\n            </Typography>\r\n          )}\r\n          <Button\r\n            sx={{ width: '100%', py: '12px', backgroundColor: '#3960C1' }}\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            disableElevation\r\n            disabled={\r\n              activeStep === 0 &&\r\n              (new BigNumber(bidAmount || 0).isLessThanOrEqualTo(0) ||\r\n                new BigNumber(bidAmount || 0).isGreaterThanOrEqualTo(new BigNumber(coreBalance).plus(wcoreBalance)))\r\n            }\r\n            onClick={handleStep}\r\n          >\r\n            {activeStep === 0 && 'Next step'}\r\n            {steps[activeStep] === 'Convert' && (\r\n              <>\r\n                {isConvertLoading && (\r\n                  <CircularProgress\r\n                    style={{\r\n                      width: 20,\r\n                      height: 20,\r\n                      marginRight: 6,\r\n                      color: 'red',\r\n                    }}\r\n                    color=\"secondary\"\r\n                  />\r\n                )}\r\n                {isConvertLoading ? 'Pending conversion' : 'Convert'}\r\n              </>\r\n            )}\r\n            {steps[activeStep] === 'Approve' && (\r\n              <>\r\n                {isApproveLoading && (\r\n                  <CircularProgress\r\n                    style={{\r\n                      width: 20,\r\n                      height: 20,\r\n                      marginRight: 6,\r\n                      color: 'red',\r\n                    }}\r\n                    color=\"secondary\"\r\n                  />\r\n                )}\r\n                {isApproveLoading ? 'Pending approval' : 'Approve'}\r\n              </>\r\n            )}\r\n            {steps[activeStep] === 'Sign' && !isPlaceBid && (\r\n              <>\r\n                {isBidLoading && (\r\n                  <CircularProgress\r\n                    style={{\r\n                      width: 20,\r\n                      height: 20,\r\n                      marginRight: 6,\r\n                      color: 'red',\r\n                    }}\r\n                    color=\"secondary\"\r\n                  />\r\n                )}\r\n                {isBidLoading ? 'Pending confirmation' : 'Place bid'}\r\n              </>\r\n            )}\r\n            {steps[activeStep] === 'Sign' && isPlaceBid && 'DONE'}\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </TokenPlaceBidContainer>\r\n  )\r\n}\r\n\r\nexport default TokenPlaceBid\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport styled from 'styled-components'\r\nimport BigNumber from 'bignumber.js'\r\nimport Box from '@mui/material/Box'\r\nimport Button from '@mui/material/Button'\r\nimport { Button as StyledButton } from 'archerswap-uikit'\r\nimport ButtonGroup from '@mui/material/ButtonGroup'\r\nimport Typography from '@mui/material/Typography'\r\nimport Divider from '@mui/material/Divider'\r\nimport CircularProgress from '@mui/material/CircularProgress'\r\nimport { useTokenListing, useBuyToken, useDelistToken, useGetBidderTokenBid } from 'hooks/useNftMarketplace'\r\nimport { useETHBalance, useWcoreBalance } from 'hooks/useTokenBalance'\r\nimport CountTimeDown from 'components/Marketplace/CountTimeDown/CountTimeDown'\r\nimport TokenListing from '../TokenListing/TokenListing'\r\nimport TokenTransfer from '../TokenTransfer/TokenTransfer'\r\nimport TokenPlaceBid from '../TokenPlaceBid/TokenPlaceBid'\r\n\r\nconst DetailWrap = styled(Box)`\r\n  border-radius: 20px;\r\n  box-shadow: 0px 4px 10px rgba(105, 105, 105, 0.15);\r\n  padding: 24px 32px;\r\n\r\n  span,\r\n  a,\r\n  p,\r\n  h1,\r\n  div,\r\n  .MuiStepLabel-label {\r\n    color: ${({ theme }) => theme.colors.text} !important;\r\n  }\r\n  .MuiButton-root {\r\n    background: ${({ theme }) => theme.colors.backgroundDisabled};\r\n    padding: 4px 12px;\r\n    border-radius: 50px;\r\n  }\r\n\r\n  input {\r\n    background: ${({ theme }) => theme.colors.background};\r\n  }\r\n`\r\n\r\nconst StyledActionBtn = styled(StyledButton)`\r\n  width: 50%;\r\n  color: white !important;\r\n`\r\n\r\nconst TraitButton = styled(Button)`\r\n  color: ${({ theme }) => theme.colors.text} !important;\r\n`\r\n\r\nconst StyledIconWrapper = styled.a`\r\n  background: ${({ theme }) => theme.colors.primary};\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`\r\n\r\nconst getEllipsis = (str) => {\r\n  return `${str.slice(0, 6)}...${str.slice(-4)}`\r\n}\r\n\r\nconst Details = ({\r\n  collectionInfo,\r\n  tokenInfo,\r\n  attributeInfo,\r\n  tokenOwner,\r\n  priceData,\r\n  serviceFee,\r\n  royalty,\r\n  isWithdrawBid,\r\n  onPlaceBid,\r\n}: any) => {\r\n  const [isList, setIsList] = useState(false)\r\n  const [isTransfer, setIsTransfer] = useState(false)\r\n  const [isPlaceBid, setIsPlaceBid] = useState(false)\r\n  const [options, setOptions] = useState([])\r\n  const [isExpired, setIsExpired] = useState(false)\r\n  const { account } = useWeb3React()\r\n\r\n  const coreBalance = useETHBalance()\r\n  const wcoreBalance = useWcoreBalance()\r\n\r\n  const [isLoading, buyToken] = useBuyToken()\r\n  const [isDelistLoading, isDelisted, deListToken] = useDelistToken()\r\n  const listedTokenInfo: any = useTokenListing(\r\n    collectionInfo?.address,\r\n    tokenInfo.tokenId,\r\n    isLoading || isList || isDelisted || isTransfer || isPlaceBid,\r\n  )\r\n  const [tokenBidder, getBidderTokenBid]: any = useGetBidderTokenBid()\r\n\r\n  useEffect(() => {\r\n    getBidderTokenBid(collectionInfo?.address, tokenInfo.tokenId)\r\n  }, [collectionInfo, tokenInfo, account, isPlaceBid, isWithdrawBid, getBidderTokenBid])\r\n\r\n  useEffect(() => {\r\n    if (window.location.search) {\r\n      const queryParams = new URLSearchParams(window.location.search)\r\n      if (queryParams.get('transfer')) {\r\n        setIsTransfer(true)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (collectionInfo && attributeInfo && attributeInfo.attributeCategories) {\r\n      const _options: any = []\r\n      const { totalSupply } = collectionInfo\r\n      attributeInfo.attributeCategories.map((attr: any) => {\r\n        _options.push({\r\n          label: attr.type,\r\n          select: [\r\n            ...attr.values.map((v: any) => ({\r\n              label: v.value,\r\n              amount: v.count,\r\n              percentage: new BigNumber(v.count).div(totalSupply).times(100).dp(2, 1).toString(),\r\n            })),\r\n          ],\r\n        })\r\n        return true\r\n      })\r\n      setOptions(_options)\r\n    }\r\n  }, [collectionInfo, attributeInfo])\r\n\r\n  const handleListingExpired = () => {\r\n    setIsExpired(true)\r\n  }\r\n\r\n  const getTraitCount = (trait: any) => {\r\n    if (tokenInfo && tokenInfo.attributes) {\r\n      const index = tokenInfo.attributes.findIndex((a: any) => a.trait_type === trait.label)\r\n      if (index !== -1) {\r\n        return tokenInfo.attributes[index].value\r\n      }\r\n      return ''\r\n    }\r\n    return ''\r\n  }\r\n\r\n  const getTraitPercent = (trait: any) => {\r\n    if (tokenInfo && tokenInfo.attributes) {\r\n      const index = tokenInfo.attributes.findIndex((t: any) => t.trait_type.toLowerCase() === trait.label.toLowerCase())\r\n      if (index !== -1 && trait && trait.select) {\r\n        const _attributeIndex = trait.select.findIndex((a: any) => a.label === tokenInfo.attributes[index].value)\r\n        if (_attributeIndex !== -1) {\r\n          return trait.select[_attributeIndex].percentage\r\n        }\r\n        return 0\r\n      }\r\n      return 0\r\n    }\r\n    return 0\r\n  }\r\n\r\n  const handleBuyToken = () => {\r\n    if (collectionInfo.address && tokenInfo.tokenId) {\r\n      const amount: any = new BigNumber(listedTokenInfo.value).div(10 ** 18).toString(10)\r\n      buyToken(amount, collectionInfo.address, tokenInfo.tokenId)\r\n    }\r\n  }\r\n\r\n  const handleDelist = () => {\r\n    if (collectionInfo.address && tokenInfo.tokenId) {\r\n      deListToken(collectionInfo.address, tokenInfo.tokenId)\r\n    }\r\n  }\r\n  return (\r\n    <DetailWrap>\r\n      {isList && (\r\n        <TokenListing\r\n          collectionInfo={collectionInfo}\r\n          tokenInfo={tokenInfo}\r\n          serviceFee={serviceFee}\r\n          royalty={royalty}\r\n          onCancel={() => setIsList(false)}\r\n        />\r\n      )}\r\n      {isTransfer && (\r\n        <TokenTransfer\r\n          account={account || ''}\r\n          collectionInfo={collectionInfo}\r\n          tokenInfo={tokenInfo}\r\n          onCancel={() => setIsTransfer(false)}\r\n        />\r\n      )}\r\n      {isPlaceBid && (\r\n        <TokenPlaceBid\r\n          coreBalance={coreBalance.div(10 ** 18).toString()}\r\n          wcoreBalance={wcoreBalance.div(10 ** 18).toString()}\r\n          collectionInfo={collectionInfo}\r\n          tokenInfo={tokenInfo}\r\n          onCancel={() => setIsPlaceBid(false)}\r\n          onPlaceBid={onPlaceBid}\r\n        />\r\n      )}\r\n      {!isList && !isTransfer && !isPlaceBid && (\r\n        <Box>\r\n          <Typography variant=\"h1\" sx={{ fontSize: '24px', fontWeight: 600, mb: '20px' }}>\r\n            {tokenInfo?.name || ''}\r\n          </Typography>\r\n          <Box\r\n            sx={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '5px',\r\n              mb: '15px',\r\n            }}\r\n          >\r\n            <img src=\"/images/nfts/marketplace/traits.svg\" alt=\"traits\" />\r\n            Traits\r\n          </Box>\r\n          <Box display=\"flex\" gap=\"15px\" sx={{ flexWrap: 'wrap', mb: '25px' }}>\r\n            {options.map((trait: any) => (\r\n              <ButtonGroup\r\n                variant=\"text\"\r\n                sx={{\r\n                  display: { xs: 'none', md: 'flex' },\r\n                  p: '8px 16px',\r\n                  borderRadius: '50px',\r\n                }}\r\n                key={trait.label}\r\n              >\r\n                <TraitButton\r\n                  sx={{\r\n                    color: 'common.black',\r\n                    flexDirection: 'column',\r\n                    p: '0',\r\n                    pr: '10px',\r\n                    fontSize: '12px',\r\n                    fontWeight: '500',\r\n                  }}\r\n                >\r\n                  {trait.label} : {getTraitCount(trait)}\r\n                </TraitButton>\r\n                <TraitButton\r\n                  sx={{\r\n                    color: 'common.black',\r\n                    flexDirection: 'column',\r\n                    p: '0',\r\n                    pl: '10px',\r\n                    fontSize: '12px',\r\n                    fontWeight: '500',\r\n                  }}\r\n                >\r\n                  {getTraitPercent(trait)}%\r\n                </TraitButton>\r\n              </ButtonGroup>\r\n            ))}\r\n          </Box>\r\n\r\n          <Box\r\n            sx={{\r\n              mb: '20px',\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n            }}\r\n          >\r\n            {tokenOwner === account && (\r\n              <Typography sx={{ fontSize: '14px' }}>\r\n                Owned by you |{' '}\r\n                <strong style={{ cursor: 'pointer' }} onClick={() => setIsTransfer(true)} role=\"presentation\">\r\n                  Transfer\r\n                </strong>\r\n              </Typography>\r\n            )}\r\n            {tokenOwner !== account && <Typography sx={{ fontSize: '14px' }}>Owned by</Typography>}\r\n            {tokenOwner !== account && (\r\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: '5px' }}>\r\n                <Typography sx={{ fontSize: '14px' }}>{getEllipsis(tokenOwner || '')}</Typography>\r\n                <StyledIconWrapper\r\n                  href={`https://scan.coredao.org/address/${tokenOwner}`}\r\n                  rel=\"noreferrer\"\r\n                  target=\"_blank\"\r\n                >\r\n                  <img src=\"/images/nfts/marketplace/scan.svg\" alt=\"scan\" />\r\n                </StyledIconWrapper>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n          <Divider />\r\n          <Box\r\n            sx={{\r\n              mt: '35px',\r\n              mb: '20px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              gap: '10px',\r\n            }}\r\n          >\r\n            <Typography>Rarity rank: {tokenInfo.rarityRank || ''}</Typography>\r\n          </Box>\r\n          {!new BigNumber(listedTokenInfo.value).isZero() &&\r\n            !new BigNumber(listedTokenInfo.expireTimestamp).isZero() &&\r\n            !isExpired && (\r\n              <Box\r\n                sx={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center',\r\n                  mb: '30px',\r\n                }}\r\n              >\r\n                <Typography sx={{ fontSize: '14px' }}>sell price</Typography>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: '5px' }}>\r\n                    <Typography\r\n                      sx={{\r\n                        fontSize: '20px',\r\n                        color: '#EF5DA8',\r\n                        fontWeight: '700',\r\n                      }}\r\n                    >\r\n                      {new BigNumber(listedTokenInfo?.value || 0).div(10 ** 18).toString(10)} CORE\r\n                    </Typography>\r\n                  </Box>\r\n                  <Typography\r\n                    sx={{\r\n                      fontSize: '16px',\r\n                      fontWeight: '500',\r\n                      color: '#4D4D4D',\r\n                      p: '4px 15px',\r\n                      borderRadius: '50px',\r\n                    }}\r\n                  >\r\n                    $\r\n                    {new BigNumber(listedTokenInfo?.value || 0)\r\n                      .div(10 ** 18)\r\n                      .times(priceData || 0)\r\n                      .dp(2, 1)\r\n                      .toString()}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            )}\r\n          {!new BigNumber(listedTokenInfo.expireTimestamp).isZero() && !isExpired && (\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                mb: '18px',\r\n              }}\r\n            >\r\n              <Typography sx={{ fontSize: '12px', color: '#666666' }}>Sale ends in</Typography>\r\n              <Box sx={{ display: 'flex', gap: '10px' }}>\r\n                <CountTimeDown timestamp={listedTokenInfo?.expireTimestamp || 0} onExpired={handleListingExpired} />\r\n              </Box>\r\n            </Box>\r\n          )}\r\n          <Box>\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n              }}\r\n            >\r\n              <Typography sx={{ fontSize: '14px', color: '#333333', fontWeight: 500 }}>Market Status</Typography>\r\n              <Typography sx={{ fontSize: '14px', color: '#333333', fontWeight: 600 }}>\r\n                {!new BigNumber(listedTokenInfo.value || 0).isZero() ? 'For sale' : 'Not for Sale'}\r\n              </Typography>\r\n            </Box>\r\n            <Box\r\n              sx={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                mb: '18px',\r\n              }}\r\n            >\r\n              <Typography sx={{ fontSize: '12px', color: '#666666' }}>Service Fee:</Typography>\r\n              <Typography sx={{ fontSize: '12px', color: '#666666' }}>{serviceFee}%</Typography>\r\n            </Box>\r\n          </Box>\r\n          <Box sx={{ display: 'flex', gap: '24px' }}>\r\n            {tokenOwner !== account && (\r\n              <StyledActionBtn onClick={() => setIsPlaceBid(true)}>\r\n                {new BigNumber(tokenBidder.value || 0).isZero() ? 'Place a bid' : 'Update bid price'}\r\n              </StyledActionBtn>\r\n            )}\r\n            {tokenOwner === account && (\r\n              <StyledActionBtn onClick={() => setIsList(true)}>\r\n                {new BigNumber(listedTokenInfo.value).isZero() ? 'List onto market' : 'Change sell price'}\r\n              </StyledActionBtn>\r\n            )}\r\n            {tokenOwner === account && !new BigNumber(listedTokenInfo.value).isZero() && (\r\n              <StyledActionBtn\r\n                disabled={!collectionInfo.address || tokenInfo.tokenId === undefined}\r\n                onClick={handleDelist}\r\n              >\r\n                {isDelistLoading && (\r\n                  <CircularProgress\r\n                    style={{\r\n                      width: 20,\r\n                      height: 20,\r\n                      marginRight: 6,\r\n                      color: 'red',\r\n                    }}\r\n                    color=\"secondary\"\r\n                  />\r\n                )}\r\n                Remove from market\r\n              </StyledActionBtn>\r\n            )}\r\n            {tokenOwner !== account && !new BigNumber(listedTokenInfo.value).isZero() && !isExpired && (\r\n              <StyledActionBtn\r\n                variant=\"primary\"\r\n                disabled={!collectionInfo.address || tokenInfo.tokenId === undefined}\r\n                onClick={handleBuyToken}\r\n              >\r\n                {isLoading && (\r\n                  <CircularProgress\r\n                    style={{\r\n                      width: 20,\r\n                      height: 20,\r\n                      marginRight: 6,\r\n                      color: 'red',\r\n                    }}\r\n                    color=\"secondary\"\r\n                  />\r\n                )}\r\n                Buy now\r\n              </StyledActionBtn>\r\n            )}\r\n          </Box>\r\n        </Box>\r\n      )}\r\n    </DetailWrap>\r\n  )\r\n}\r\n\r\nexport default Details\r\n","import React, { useState } from 'react'\r\nimport Paper from '@mui/material/Paper'\r\nimport Table from '@mui/material/Table'\r\nimport TableBody from '@mui/material/TableBody'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport TableContainer from '@mui/material/TableContainer'\r\nimport TableHead from '@mui/material/TableHead'\r\nimport TablePagination from '@mui/material/TablePagination'\r\nimport TableRow from '@mui/material/TableRow'\r\n\r\nexport default function StickyHeadTable({ columns, rows, onCancelBid, onAcceptBid }: any) {\r\n  const [page, setPage] = useState(0)\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n  const handleChangePage = (event: unknown, newPage: number) => {\r\n    setPage(newPage)\r\n  }\r\n\r\n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setRowsPerPage(+event.target.value)\r\n    setPage(0)\r\n  }\r\n  return (\r\n    <Paper\r\n      style={{\r\n        width: '100%',\r\n        borderRadius: '20px',\r\n        boxShadow: '0px 4px 10px rgba(105, 105, 105, 0.15)',\r\n      }}\r\n    >\r\n      <TableContainer>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {columns.map((column: any) => (\r\n                <TableCell sx={{ bgcolor: '#F6F6F6' }} key={column.id} align={column.align}>\r\n                  {column.label}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row: any) => {\r\n              return (\r\n                <TableRow\r\n                  hover\r\n                  role=\"checkbox\"\r\n                  tabIndex={-1}\r\n                  key={Math.random()}\r\n                  style={{\r\n                    cursor: 'pointer',\r\n                  }}\r\n                >\r\n                  {columns.map((column: any) => {\r\n                    const value = row[column.id]\r\n                    return (\r\n                      <TableCell\r\n                        key={column.id}\r\n                        align={column.align}\r\n                        style={{\r\n                          cursor: value === 'Cancel' || value === 'Accept' ? 'pointer' : '',\r\n                          fontWeight: value === 'Cancel' || value === 'Accept' ? 'bold' : 'normal',\r\n                        }}\r\n                        onClick={() => {\r\n                          if (value === 'Cancel') {\r\n                            onCancelBid()\r\n                          } else if (value === 'Accept') {\r\n                            onAcceptBid(row)\r\n                          }\r\n                        }}\r\n                      >\r\n                        {value}\r\n                      </TableCell>\r\n                    )\r\n                  })}\r\n                </TableRow>\r\n              )\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 100]}\r\n        component=\"div\"\r\n        count={rows.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onPageChange={handleChangePage}\r\n        onRowsPerPageChange={handleChangeRowsPerPage}\r\n      />\r\n    </Paper>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport moment from 'moment'\r\nimport Box from '@mui/material/Box'\r\nimport ActiveBidsTable from 'components/Marketplace/Table/ActiveBidsTable/ActiveBidsTable'\r\n\r\nconst columns: any = [\r\n  { id: 'wcore', label: 'WCORE', minWidth: 170 },\r\n  { id: 'usd', label: 'USD', minWidth: 170 },\r\n  { id: 'from', label: 'From', minWidth: 100 },\r\n  { id: 'expiration', label: 'Expiration', minWidth: 100 },\r\n  {\r\n    id: 'action',\r\n    label: 'Action',\r\n    minWidth: 170,\r\n    align: 'right',\r\n  },\r\n]\r\n\r\nconst getDiffDate = (timestamp) => {\r\n  const diffDays = moment(timestamp * 1000).diff(moment(new Date()), 'days')\r\n  if (diffDays) return `${Math.abs(diffDays)} days`\r\n  const diffHours = moment(timestamp * 1000).diff(moment(new Date()), 'hours')\r\n  if (diffHours) return `${Math.abs(diffHours)} hours`\r\n  const diffMinutes = moment(timestamp * 1000).diff(moment(new Date()), 'minutes')\r\n  if (diffMinutes) return `${Math.abs(diffMinutes)} minutes`\r\n  const diffSeconds = moment(timestamp * 1000).diff(moment(new Date()), 'seconds')\r\n  return `${Math.abs(diffSeconds || 0)} seconds`\r\n}\r\n\r\nconst Offers = ({ tokenBids, priceData, account, tokenOwner, onCancelBid, onAcceptBid }: any) => {\r\n  const [rows, setRows] = useState([])\r\n  useEffect(() => {\r\n    const _rows: any = []\r\n    ;(tokenBids || []).map((e: any) => {\r\n      const rowData = {\r\n        tokenId: e.tokenId,\r\n        wcore: new BigNumber(e.value).div(10 ** 18).toString(),\r\n        rawWcore: e.value,\r\n        usd: `~$${new BigNumber(e.value)\r\n          .div(10 ** 18)\r\n          .times(priceData || 0)\r\n          .dp(2, 1)\r\n          .toString()}`,\r\n        from: account === e.bidder ? 'You' : `${e.bidder.substr(0, 4)}...${e.bidder.substr(e.bidder.length - 4, 4)}`,\r\n        fromFullAddress: e.bidder,\r\n        expiration: `${getDiffDate(e.expireTimestamp)}`,\r\n        action: '',\r\n      }\r\n      if (account === e.bidder) {\r\n        rowData.action = 'Cancel'\r\n      } else if (account === tokenOwner) {\r\n        rowData.action = 'Accept'\r\n      }\r\n      _rows.push(rowData)\r\n      return true\r\n    })\r\n    setRows(_rows)\r\n  }, [account, tokenOwner, tokenBids, priceData])\r\n  return (\r\n    <>\r\n      <Box\r\n        style={{\r\n          borderRadius: '20px',\r\n          boxShadow: '0px 4px 10px rgba(105, 105, 105, 0.15)',\r\n        }}\r\n      >\r\n        <ActiveBidsTable\r\n          tableTitle=\"Active Bids\"\r\n          columns={columns}\r\n          rows={rows}\r\n          onCancelBid={onCancelBid}\r\n          onAcceptBid={onAcceptBid}\r\n        />\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Offers\r\n","import * as React from 'react'\r\nimport Paper from '@mui/material/Paper'\r\nimport Table from '@mui/material/Table'\r\nimport TableBody from '@mui/material/TableBody'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport TableContainer from '@mui/material/TableContainer'\r\nimport TableHead from '@mui/material/TableHead'\r\nimport TablePagination from '@mui/material/TablePagination'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport Typography from '@mui/material/Typography'\r\n\r\nexport default function StickyHeadTable({ tableTitle, columns = [], rows = [] }: any) {\r\n  const [page, setPage] = React.useState(0)\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10)\r\n\r\n  const handleChangePage = (event: unknown, newPage: number) => {\r\n    setPage(newPage)\r\n  }\r\n\r\n  const handleChangeRowsPerPage = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setRowsPerPage(+event.target.value)\r\n    setPage(0)\r\n  }\r\n\r\n  return (\r\n    <Paper\r\n      sx={{\r\n        width: '100%',\r\n        overflow: 'hidden',\r\n        boxShadow: 'none',\r\n        border: '1px solid #E0E0E0',\r\n      }}\r\n    >\r\n      <TableContainer sx={{ maxHeight: 440 }}>\r\n        <Typography\r\n          sx={{\r\n            minWidth: 300,\r\n            p: '16px',\r\n          }}\r\n        >\r\n          {tableTitle}\r\n        </Typography>\r\n        <Table stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {columns.map((column: any) => (\r\n                <TableCell\r\n                  key={column.id}\r\n                  align={column.align}\r\n                  sx={{ bgcolor: '#F6F6F6', borderTop: '1px solid #E0E0E0' }}\r\n                >\r\n                  {column.label}\r\n                </TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row: any) => {\r\n              return (\r\n                <TableRow\r\n                  hover\r\n                  role=\"checkbox\"\r\n                  tabIndex={-1}\r\n                  key={Math.random()}\r\n                  style={{\r\n                    cursor: 'pointer',\r\n                  }}\r\n                  onClick={() => {\r\n                    if (row.transactionHash) {\r\n                      window.open(`https://scan.coredao.org/tx/${row.transactionHash}`)\r\n                    }\r\n                  }}\r\n                >\r\n                  {columns.map((column: any) => {\r\n                    const value = row[column.id]\r\n                    return (\r\n                      <TableCell key={column.id} align={column.align}>\r\n                        {value}\r\n                      </TableCell>\r\n                    )\r\n                  })}\r\n                </TableRow>\r\n              )\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <TablePagination\r\n        rowsPerPageOptions={[10, 25, 100]}\r\n        component=\"div\"\r\n        count={rows.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onPageChange={handleChangePage}\r\n        onRowsPerPageChange={handleChangeRowsPerPage}\r\n      />\r\n    </Paper>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport moment from 'moment'\r\nimport Box from '@mui/material/Box'\r\nimport Table from 'components/Marketplace/Table/Table'\r\n\r\nconst columns: any = [\r\n  { id: 'event', label: 'Event', minWidth: 170 },\r\n  { id: 'core', label: 'CORE', minWidth: 170 },\r\n  { id: 'from', label: 'From', minWidth: 100 },\r\n  { id: 'to', label: 'To', minWidth: 100 },\r\n  {\r\n    id: 'date',\r\n    label: 'Date',\r\n    minWidth: 170,\r\n    align: 'right',\r\n  },\r\n]\r\n\r\nconst EVENTS: any = {\r\n  TokenBidWithdrawn: 'Canceled',\r\n  TokenBought: 'Sale',\r\n  TokenBidAccepted: 'Sale',\r\n  TokenDelisted: 'DeListing',\r\n  TokenListed: 'Listing',\r\n  TokenBidEntered: 'Bid',\r\n  Transfer: 'Transfer',\r\n}\r\n\r\nconst getDiffDate = (timestamp) => {\r\n  const diffDays = moment(timestamp * 1000).diff(moment(new Date()), 'days')\r\n  if (diffDays) return `${Math.abs(diffDays)} days`\r\n  const diffHours = moment(timestamp * 1000).diff(moment(new Date()), 'hours')\r\n  if (diffHours) return `${Math.abs(diffHours)} hours`\r\n  const diffMinutes = moment(timestamp * 1000).diff(moment(new Date()), 'minutes')\r\n  if (diffMinutes) return `${Math.abs(diffMinutes)} minutes`\r\n  const diffSeconds = moment(timestamp * 1000).diff(moment(new Date()), 'seconds')\r\n  return `${Math.abs(diffSeconds || 0)} seconds`\r\n}\r\n\r\nconst History = ({ tokenEvents }: any) => {\r\n  const [rows, setRows] = useState([])\r\n\r\n  useEffect(() => {\r\n    const _rows: any = []\r\n    ;(tokenEvents || []).map((e: any) => {\r\n      _rows.push({\r\n        event: EVENTS[e.event],\r\n        core: e.valueNum,\r\n        from: e.from.substr(2, 6),\r\n        to: e.to ? e.to.substr(2, 6) : '-',\r\n        date: `${getDiffDate(e.timestamp)} ago`,\r\n        transactionHash: e.transactionHash,\r\n      })\r\n      return true\r\n    })\r\n    setRows(_rows)\r\n  }, [tokenEvents])\r\n  return (\r\n    <>\r\n      <Box\r\n        style={{\r\n          borderRadius: '20px',\r\n          boxShadow: '0px 4px 10px rgba(105, 105, 105, 0.15)',\r\n        }}\r\n      >\r\n        <Table tableTitle=\"Transaction History\" columns={columns} rows={rows} />\r\n      </Box>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default History\r\n","/* eslint-disable no-nested-ternary */\r\nimport React, { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { useTheme } from '@mui/material/styles'\r\nimport useMediaQuery from '@mui/material/useMediaQuery'\r\nimport Grid from '@mui/material/Grid'\r\nimport Info from 'components/Marketplace/TokenDetails/Info/Info'\r\nimport TokenImage from 'components/Marketplace/TokenDetails/TokenImage/TokenImage'\r\nimport Details from 'components/Marketplace/TokenDetails/Details/Details'\r\nimport Offers from 'components/Marketplace/TokenDetails/Offers/Offers'\r\nimport History from 'components/Marketplace/TokenDetails/History/History'\r\nimport AnalyticHead from 'components/Marketplace/AnalyticHead'\r\nimport { useCollection, useCollectionAttributes, useERC721Token, useERC721TokenEvents } from 'hooks/api'\r\nimport {\r\n  useGetOwnerOfToken,\r\n  useGetServiceFee,\r\n  useGetRoyalty,\r\n  useGetTokenBids,\r\n  useWithdrawBidToken,\r\n  useAcceptBidToken,\r\n} from 'hooks/useNftMarketplace'\r\nimport { usePriceCoreUsd } from 'state/hooks'\r\n\r\nconst Background = styled.div<any>`\r\n  width: 100%;\r\n  background: ${({ theme }) => theme.colors.card};\r\n  padding-bottom: 100px;\r\n`\r\nconst NftDetailHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 25px 85px;\r\n  background: ${({ theme }) => theme.colors.card};\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 24px;\r\n  }\r\n\r\n  .back-wrap {\r\n    display: flex;\r\n    align-items: center;\r\n    img {\r\n      margin-right: 20px;\r\n    }\r\n    > div {\r\n      font-weight: 500;\r\n      font-size: 16px;\r\n      color: ${({ theme }) => theme.colors.text};\r\n    }\r\n  }\r\n`\r\nconst NftDetailContent = styled.div`\r\n  display: flex;\r\n  padding: 0px 85px;\r\n  background: ${({ theme }) => theme.colors.card};\r\n  max-width: 1200px;\r\n  @media (max-width: 768px) {\r\n    padding: 0px 24px;\r\n  }\r\n  .left-side {\r\n    width: 100%;\r\n    max-width: 469px;\r\n    .nft-art {\r\n      width: 100%;\r\n      border-radius: 20px;\r\n      margin-bottom: 40px;\r\n    }\r\n  }\r\n  .right-side {\r\n    flex: 1;\r\n    max-width: 480px;\r\n    margin-left: 35px;\r\n  }\r\n`\r\n\r\nconst NftDetail: React.FC = () => {\r\n  const theme = useTheme()\r\n  const params: any = useParams()\r\n\r\n  const { account } = useWeb3React()\r\n\r\n  const collectionInfo: any = useCollection(params.alias)\r\n  const attributeInfo: any = useCollectionAttributes(params.alias)\r\n  const tokenInfo: any = useERC721Token(params.alias, params.tokenId)\r\n\r\n  const tokenEvents: any = useERC721TokenEvents({\r\n    chainId: collectionInfo?.chainId,\r\n    tokenAddress: collectionInfo?.address,\r\n    tokenId: params.tokenId,\r\n  })\r\n\r\n  const [tokenOwner, getOwnerOfToken]: any = useGetOwnerOfToken(collectionInfo?.address)\r\n  const serviceFee: any = useGetServiceFee()\r\n  const royalty: any = useGetRoyalty(collectionInfo?.address)\r\n\r\n  const priceData: any = usePriceCoreUsd()\r\n  const [tokenBids, getTokenBids]: any = useGetTokenBids()\r\n  const [, isWithdrawBid, withdrawBidToken]: any = useWithdrawBidToken()\r\n  const [, isAcceptBid, acceptBidToken]: any = useAcceptBidToken()\r\n\r\n  useEffect(() => {\r\n    getOwnerOfToken(params.tokenId)\r\n  }, [collectionInfo, params, account, isAcceptBid, getOwnerOfToken])\r\n\r\n  useEffect(() => {\r\n    getTokenBids(collectionInfo?.address, tokenInfo?.tokenId)\r\n  }, [collectionInfo, tokenInfo, account, isWithdrawBid, isAcceptBid, getTokenBids])\r\n\r\n  const handleCancelBid = () => {\r\n    withdrawBidToken(collectionInfo?.address, tokenInfo?.tokenId)\r\n  }\r\n\r\n  const handleAcceptBid = (bidInfo: any) => {\r\n    acceptBidToken(collectionInfo?.address, bidInfo?.tokenId, bidInfo?.fromFullAddress, bidInfo?.rawWcore)\r\n  }\r\n\r\n  return (\r\n    <Background>\r\n      <NftDetailHeader>\r\n        <Link to={`/marketplace/${params.alias}`}>\r\n          <div className=\"back-wrap\">\r\n            <img src=\"/images/nfts/marketplace/back.svg\" alt=\"back\" />\r\n            <div>{params.alias}</div>\r\n          </div>\r\n        </Link>\r\n        <AnalyticHead />\r\n      </NftDetailHeader>\r\n      <NftDetailContent>\r\n        <Grid container spacing={4}>\r\n          <Grid item xs={12} md={6} sx={{ display: 'flex', flexDirection: 'column', gap: '30px' }}>\r\n            <TokenImage imageUrl={tokenInfo?.image} />\r\n            {useMediaQuery(theme.breakpoints.up('md')) && (\r\n              <>\r\n                {tokenEvents.length !== 0 && <History tokenEvents={tokenEvents} />}\r\n                <Info collectionInfo={collectionInfo} />\r\n              </>\r\n            )}\r\n          </Grid>\r\n          <Grid item xs={12} md={6} sx={{ display: 'flex', flexDirection: 'column', gap: '30px' }}>\r\n            <Details\r\n              collectionInfo={collectionInfo}\r\n              tokenInfo={tokenInfo}\r\n              attributeInfo={attributeInfo}\r\n              tokenOwner={tokenOwner}\r\n              priceData={priceData}\r\n              serviceFee={serviceFee}\r\n              royalty={royalty}\r\n              isWithdrawBid={isWithdrawBid}\r\n              onPlaceBid={() => {\r\n                getTokenBids(collectionInfo?.address, tokenInfo?.tokenId)\r\n              }}\r\n            />\r\n            {tokenBids.length !== 0 && (\r\n              <Offers\r\n                tokenBids={tokenBids}\r\n                priceData={priceData}\r\n                account={account}\r\n                tokenOwner={tokenOwner}\r\n                onCancelBid={handleCancelBid}\r\n                onAcceptBid={handleAcceptBid}\r\n              />\r\n            )}\r\n            {useMediaQuery(theme.breakpoints.down('md')) && (\r\n              <>\r\n                {tokenEvents.length !== 0 && <History tokenEvents={tokenEvents} />}\r\n                <Info collectionInfo={collectionInfo} />\r\n              </>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </NftDetailContent>\r\n    </Background>\r\n  )\r\n}\r\n\r\nexport default NftDetail\r\n"],"sourceRoot":""}
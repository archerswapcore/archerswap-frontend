{"version":3,"sources":["hooks/useTokenBalance.ts","../node_modules/react-collapse/lib/Collapse.js","../node_modules/react-collapse/lib/index.js","../node_modules/react-collapse/lib/UnmountClosed.js","views/Marketplace/MyNfts.tsx"],"names":["useETHBalance","useState","BigNumber","balance","setBalance","account","useWeb3React","web3","useWeb3","fastRefresh","useRefresh","useEffect","a","eth","getBalance","res","fetchBalance","useWcoreBalance","contract","getBep20Contract","tokens","wcore","address","methods","balanceOf","call","useTokenAllowance","tokenAddress","targetAddress","allowance","setAllowance","useApprove","approvePending","setApprovePending","onApprove","useCallback","contractAddress","approve","pow","minus","toString","send","from","tx","useTokenSymbol","symbol","setSymbol","useTokenDecimal","decimal","setDecimal","decimals","useNFTBalance","ownedTokensIds","setOwnedTokensIds","isLoading","setIsLoading","getErc721Contract","tokensOfOwner","tokenIds","tokensData","map","tokenId","tokenURI","uri","fetch","data","json","metadata","Promise","all","then","values","useTokenBalanceFromChain","chainId","getWeb3NoAccountFromChain","useBurnedBalance","useCirculatingBalance","bowContract","getBowContract","totalSupply","tRes","res0","res1","res2","lockedBalance","plus","usePairsLength","pairsLength","setPairsLength","slowRefresh","getFactoryContract","allPairsLength","fetchPairsLength","useTokenBalance","_typeof","obj","Symbol","iterator","constructor","prototype","Object","defineProperty","exports","value","Collapse","_react","require","__esModule","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","arguments","apply","_possibleConstructorReturn","self","TypeError","_assertThisInitialized","ReferenceError","getPrototypeOf","_defineProperty","_React$Component","subClass","superClass","create","_inherits","Constructor","protoProps","staticProps","_super","_this","instance","_classCallCheck","undefined","clearTimeout","timeout","container","content","_this$props","isOpened","checkTimeout","containerHeight","Math","floor","clientHeight","contentHeight","isFullyOpened","abs","isFullyClosed","onRest","onWork","setTimeout","onResize","_ref","hasOpened","style","height","concat","hasClosed","overflow","_ref2","isOpenining","isClosing","initialStyle","nextProps","_this$props2","theme","children","keys","some","c","_this$props3","createElement","ref","onRefContainer","className","collapse","onRefContent","Component","UnmountClosed","module","_Collapse","_excluded","_excluded2","_extends","assign","source","hasOwnProperty","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","_React$PureComponent","rest","setState","isResting","isInitialRender","_this$state","state","prevProps","_this$state2","getInitialStyle","PureComponent","Background","styled","div","colors","card","MyNftsHeader","text","WalletInfo","MyCollectionWrap","MyNfts","isDark","useTheme","collections","useCollections","_myCollections","useGetMyCollections","coreBalance","wcoreBalance","collectionInfo","setCollectionInfo","MyCollections","setMyCollections","filters","traits","tokenCountInput","setTokenCountInput","traitFilter","setTraitFilter","setTokenIds","totalCount","setTotalCount","page","setPage","tabType","setTabType","sortType","setSortType","latestSoldTokens","setLatestSoldTokens","attributeInfo","useCollectionAttributes","alias","tokenCountInfo","useERC721TokenCount","pageSize","tokensInfo","useERC721Tokens","soldTokens","useERC721RecentEventsLite","events","limit","totalListingNum","useNumTokenListings","tokenListing","useTokenListings","myTokenIds","useGetMyTokenIds","useNumTokenWithBids","totalTokenBid","getTokenWithBids","useTokenHighestBids","tokenHighestBids","getTokenHighestBids","t","findIndex","tl","sort","b","isLessThan","isGreaterThan","_latestSoldToken","lt","timestamp","valueNum","includes","_tokenIds","_","idx","str","handleSort","orderBy","direction","handleActivityListing","type","handleTraits","traitData","handleLoadMore","to","src","alt","slice","dp","collection","bannerUrl","name","onClick","isOpen","handleCollapse","onActivityListing","onSort","onChangeTraits","isToggle","loadMore"],"mappings":"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","file":"static/js/38.055c1e53.chunk.js","sourcesContent":["import { useEffect, useState, useCallback } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport tokens from 'config/constants/tokens'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { getBep20Contract, getBowContract, getErc721Contract, getFactoryContract } from 'utils/contractHelpers'\r\nimport { getWeb3NoAccountFromChain } from 'utils/web3'\r\nimport useWeb3 from './useWeb3'\r\nimport useRefresh from './useRefresh'\r\n\r\nexport const useETHBalance = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const res = await web3.eth.getBalance(account)\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    if (account) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, web3, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useWcoreBalance = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokens.wcore.address[1116], web3)\r\n      const res = await contract.methods.balanceOf(account).call()\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    if (account) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, web3, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useTokenAllowance = (tokenAddress: string, targetAddress: string) => {\r\n  const [allowance, setAllowance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.allowance(account, targetAddress).call()\r\n      setAllowance(new BigNumber(res))\r\n    }\r\n\r\n    if (account && tokenAddress && targetAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, web3, fastRefresh, targetAddress])\r\n\r\n  return allowance\r\n}\r\n\r\nexport const useApprove = () => {\r\n  const [approvePending, setApprovePending] = useState(false)\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n\r\n  const handleApprove = useCallback(\r\n    async (targetAddress: string, contractAddress: string) => {\r\n      try {\r\n        setApprovePending(true)\r\n        const contract = getBep20Contract(contractAddress, web3)\r\n        const tx = await contract.methods\r\n          .approve(targetAddress, new BigNumber(2).pow(256).minus(1).toString(10))\r\n          .send({ from: account })\r\n        setApprovePending(false)\r\n        return tx\r\n      } catch (e) {\r\n        setApprovePending(false)\r\n        return false\r\n      }\r\n    },\r\n    [web3, account],\r\n  )\r\n\r\n  return { onApprove: handleApprove, approvePending }\r\n}\r\n\r\nexport const useTokenSymbol = (tokenAddress: string) => {\r\n  const [symbol, setSymbol] = useState('')\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.symbol().call()\r\n      setSymbol(res)\r\n    }\r\n\r\n    if (tokenAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [tokenAddress, web3, fastRefresh])\r\n\r\n  return symbol\r\n}\r\n\r\nexport const useTokenDecimal = (tokenAddress: string) => {\r\n  const [decimal, setDecimal] = useState(0)\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.decimals().call()\r\n      setDecimal(res)\r\n    }\r\n\r\n    if (tokenAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [tokenAddress, web3, fastRefresh])\r\n\r\n  return decimal\r\n}\r\n\r\nconst useTokenBalance = (tokenAddress: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.balanceOf(account).call()\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    if (account && tokenAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, web3, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useNFTBalance = (tokenAddress: string) => {\r\n  const [ownedTokensIds, setOwnedTokensIds] = useState([])\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const { account } = useWeb3React()\r\n  const web3 = useWeb3()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      setIsLoading(true)\r\n      const contract = getErc721Contract(tokenAddress, web3)\r\n      const tokenIds = await contract.methods.tokensOfOwner(account).call()\r\n      const tokensData = tokenIds.map(async (tokenId) => {\r\n        const uri = await contract.methods.tokenURI(tokenId).call()\r\n        const data = await fetch(uri)\r\n        const metadata = await data.json()\r\n        return { tokenId, ...metadata }\r\n      })\r\n      Promise.all(tokensData).then((values) => setOwnedTokensIds(values))\r\n      setIsLoading(false)\r\n    }\r\n\r\n    if (account && tokenAddress) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, web3, fastRefresh])\r\n\r\n  return { isLoading, ownedTokensIds }\r\n}\r\n\r\nexport const useTokenBalanceFromChain = (tokenAddress: string, chainId: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account } = useWeb3React()\r\n  const web3 = getWeb3NoAccountFromChain(chainId)\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.balanceOf(account).call()\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    if (account && tokenAddress && chainId) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, web3, fastRefresh, chainId])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useTotalSupply = () => {\r\n  const { slowRefresh } = useRefresh()\r\n  const [totalSupply, setTotalSupply] = useState<BigNumber>()\r\n\r\n  useEffect(() => {\r\n    async function fetchTotalSupply() {\r\n      const bowContract = getBowContract()\r\n      const supply = await bowContract.methods.totalSupply().call()\r\n      setTotalSupply(new BigNumber(supply))\r\n    }\r\n\r\n    fetchTotalSupply()\r\n  }, [slowRefresh])\r\n\r\n  return totalSupply\r\n}\r\n\r\nexport const useBurnedBalance = (tokenAddress: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { fastRefresh } = useRefresh()\r\n  const web3 = useWeb3()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress, web3)\r\n      const res = await contract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call()\r\n      setBalance(new BigNumber(res))\r\n    }\r\n\r\n    fetchBalance()\r\n  }, [web3, tokenAddress, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useCirculatingBalance = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { fastRefresh } = useRefresh()\r\n  const web3 = useWeb3()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const bowContract = getBowContract()\r\n      const [tRes, res0, res1, res2] = await Promise.all([\r\n        bowContract.methods.totalSupply().call(),\r\n        bowContract.methods.balanceOf('0x48Db2BD42B1F8B315Ab86C24d29C43fCDa99e984').call(), // deployer\r\n        bowContract.methods.balanceOf('0x7bf76646fbe70b13b72b0b46284f747eec5d0181').call(), // trade mining\r\n        bowContract.methods.balanceOf('0x000000000000000000000000000000000000dEaD').call(), // burn address\r\n      ])\r\n      const lockedBalance = new BigNumber(res0).plus(res1).plus(res2)\r\n      setBalance(new BigNumber(tRes).minus(lockedBalance))\r\n    }\r\n\r\n    fetchBalance()\r\n  }, [web3, fastRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const usePairsLength = () => {\r\n  const [pairsLength, setPairsLength] = useState(0)\r\n  const { slowRefresh } = useRefresh()\r\n  const web3 = useWeb3()\r\n\r\n  useEffect(() => {\r\n    const fetchPairsLength = async () => {\r\n      const contract = getFactoryContract(web3)\r\n      const res = await contract.methods.allPairsLength().call()\r\n      setPairsLength(res)\r\n    }\r\n\r\n    fetchPairsLength()\r\n  }, [web3, slowRefresh])\r\n\r\n  return pairsLength\r\n}\r\n\r\nexport default useTokenBalance\r\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Collapse = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Collapse = /*#__PURE__*/function (_React$Component) {\n  _inherits(Collapse, _React$Component);\n\n  var _super = _createSuper(Collapse);\n\n  function Collapse(props) {\n    var _this;\n\n    _classCallCheck(this, Collapse);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"timeout\", undefined);\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", undefined);\n\n    _defineProperty(_assertThisInitialized(_this), \"content\", undefined);\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function () {\n      clearTimeout(_this.timeout);\n\n      if (!_this.container || !_this.content) {\n        return;\n      }\n\n      var _this$props = _this.props,\n          isOpened = _this$props.isOpened,\n          checkTimeout = _this$props.checkTimeout;\n      var containerHeight = Math.floor(_this.container.clientHeight);\n      var contentHeight = Math.floor(_this.content.clientHeight);\n      var isFullyOpened = isOpened && Math.abs(contentHeight - containerHeight) <= 1;\n      var isFullyClosed = !isOpened && Math.abs(containerHeight) <= 1;\n\n      if (isFullyOpened || isFullyClosed) {\n        _this.onRest({\n          isFullyOpened: isFullyOpened,\n          isFullyClosed: isFullyClosed,\n          isOpened: isOpened,\n          containerHeight: containerHeight,\n          contentHeight: contentHeight\n        });\n      } else {\n        _this.onWork({\n          isFullyOpened: isFullyOpened,\n          isFullyClosed: isFullyClosed,\n          isOpened: isOpened,\n          containerHeight: containerHeight,\n          contentHeight: contentHeight\n        });\n\n        _this.timeout = setTimeout(function () {\n          return _this.onResize();\n        }, checkTimeout);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRest\", function (_ref) {\n      var isFullyOpened = _ref.isFullyOpened,\n          isFullyClosed = _ref.isFullyClosed,\n          isOpened = _ref.isOpened,\n          containerHeight = _ref.containerHeight,\n          contentHeight = _ref.contentHeight;\n\n      if (!_this.container || !_this.content) {\n        return;\n      }\n\n      var hasOpened = isOpened && _this.container.style.height === \"\".concat(contentHeight, \"px\");\n      var hasClosed = !isOpened && _this.container.style.height === '0px';\n\n      if (hasOpened || hasClosed) {\n        _this.container.style.overflow = isOpened ? 'initial' : 'hidden';\n        _this.container.style.height = isOpened ? 'auto' : '0px';\n        var onRest = _this.props.onRest;\n\n        if (onRest) {\n          onRest({\n            isFullyOpened: isFullyOpened,\n            isFullyClosed: isFullyClosed,\n            isOpened: isOpened,\n            containerHeight: containerHeight,\n            contentHeight: contentHeight\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onWork\", function (_ref2) {\n      var isFullyOpened = _ref2.isFullyOpened,\n          isFullyClosed = _ref2.isFullyClosed,\n          isOpened = _ref2.isOpened,\n          containerHeight = _ref2.containerHeight,\n          contentHeight = _ref2.contentHeight;\n\n      if (!_this.container || !_this.content) {\n        return;\n      }\n\n      var isOpenining = isOpened && _this.container.style.height === \"\".concat(contentHeight, \"px\");\n      var isClosing = !isOpened && _this.container.style.height === '0px';\n\n      if (isOpenining || isClosing) {\n        // No need to do any work\n        return;\n      }\n\n      _this.container.style.overflow = 'hidden';\n      _this.container.style.height = isOpened ? \"\".concat(contentHeight, \"px\") : '0px';\n      var onWork = _this.props.onWork;\n\n      if (onWork) {\n        onWork({\n          isFullyOpened: isFullyOpened,\n          isFullyClosed: isFullyClosed,\n          isOpened: isOpened,\n          containerHeight: containerHeight,\n          contentHeight: contentHeight\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRefContainer\", function (container) {\n      _this.container = container;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRefContent\", function (content) {\n      _this.content = content;\n    });\n\n    if (props.initialStyle) {\n      _this.initialStyle = props.initialStyle;\n    } else {\n      _this.initialStyle = props.isOpened ? {\n        height: 'auto',\n        overflow: 'initial'\n      } : {\n        height: '0px',\n        overflow: 'hidden'\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(Collapse, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.onResize();\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props2 = this.props,\n          theme = _this$props2.theme,\n          isOpened = _this$props2.isOpened,\n          children = _this$props2.children;\n      return children !== nextProps.children || isOpened !== nextProps.isOpened || Object.keys(theme).some(function (c) {\n        return theme[c] !== nextProps.theme[c];\n      });\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate() {\n      if (!this.container || !this.content) {\n        return null;\n      }\n\n      if (this.container.style.height === 'auto') {\n        var contentHeight = this.content.clientHeight;\n        this.container.style.height = \"\".concat(contentHeight, \"px\");\n      }\n\n      return null;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.onResize();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timeout);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          theme = _this$props3.theme,\n          children = _this$props3.children,\n          isOpened = _this$props3.isOpened;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.onRefContainer,\n        className: theme.collapse,\n        style: this.initialStyle,\n        \"aria-hidden\": !isOpened\n      }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n        ref: this.onRefContent,\n        className: theme.content\n      }, children));\n    }\n  }]);\n\n  return Collapse;\n}(_react[\"default\"].Component);\n\nexports.Collapse = Collapse;\n\n_defineProperty(Collapse, \"defaultProps\", {\n  theme: {\n    collapse: 'ReactCollapse--collapse',\n    content: 'ReactCollapse--content'\n  },\n  initialStyle: undefined,\n  onRest: undefined,\n  onWork: undefined,\n  checkTimeout: 50\n});","\"use strict\";\n\nvar _require = require('./Collapse'),\n    Collapse = _require.Collapse;\n\nvar _require2 = require('./UnmountClosed'),\n    UnmountClosed = _require2.UnmountClosed; // Default export\n\n\nmodule.exports = UnmountClosed; // Extra \"named exports\"\n\nUnmountClosed.Collapse = Collapse;\nUnmountClosed.UnmountClosed = UnmountClosed;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UnmountClosed = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Collapse = require(\"./Collapse\");\n\nvar _excluded = [\"isOpened\"],\n    _excluded2 = [\"isOpened\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar UnmountClosed = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(UnmountClosed, _React$PureComponent);\n\n  var _super = _createSuper(UnmountClosed);\n\n  function UnmountClosed(props) {\n    var _this;\n\n    _classCallCheck(this, UnmountClosed);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onWork\", function (_ref) {\n      var isOpened = _ref.isOpened,\n          rest = _objectWithoutProperties(_ref, _excluded);\n\n      _this.setState({\n        isResting: false,\n        isOpened: isOpened\n      });\n\n      var onWork = _this.props.onWork;\n\n      if (onWork) {\n        onWork(_objectSpread({\n          isOpened: isOpened\n        }, rest));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRest\", function (_ref2) {\n      var isOpened = _ref2.isOpened,\n          rest = _objectWithoutProperties(_ref2, _excluded2);\n\n      _this.setState({\n        isResting: true,\n        isOpened: isOpened,\n        isInitialRender: false\n      });\n\n      var onRest = _this.props.onRest;\n\n      if (onRest) {\n        onRest(_objectSpread({\n          isOpened: isOpened\n        }, rest));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInitialStyle\", function () {\n      var _this$state = _this.state,\n          isOpened = _this$state.isOpened,\n          isInitialRender = _this$state.isInitialRender;\n\n      if (isInitialRender) {\n        return isOpened ? {\n          height: 'auto',\n          overflow: 'initial'\n        } : {\n          height: '0px',\n          overflow: 'hidden'\n        };\n      }\n\n      return {\n        height: '0px',\n        overflow: 'hidden'\n      };\n    });\n\n    _this.state = {\n      isResting: true,\n      isOpened: props.isOpened,\n      isInitialRender: true\n    };\n    return _this;\n  }\n\n  _createClass(UnmountClosed, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var isOpened = this.props.isOpened;\n\n      if (prevProps.isOpened !== isOpened) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          isResting: false,\n          isOpened: isOpened,\n          isInitialRender: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          isResting = _this$state2.isResting,\n          isOpened = _this$state2.isOpened;\n      return isResting && !isOpened ? null : /*#__PURE__*/_react[\"default\"].createElement(_Collapse.Collapse, _extends({}, this.props, {\n        initialStyle: this.getInitialStyle(),\n        onWork: this.onWork,\n        onRest: this.onRest\n      }));\n    }\n  }]);\n\n  return UnmountClosed;\n}(_react[\"default\"].PureComponent);\n\nexports.UnmountClosed = UnmountClosed;\n\n_defineProperty(UnmountClosed, \"defaultProps\", {\n  onWork: undefined,\n  onRest: undefined\n});","/* eslint-disable no-nested-ternary */\r\nimport React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport BigNumber from 'bignumber.js'\r\nimport { Button } from 'archerswap-uikit'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { Link } from 'react-router-dom'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { Collapse } from 'react-collapse'\r\nimport CategoryTab from 'components/Marketplace/CategoryTab'\r\nimport SortButtons from 'components/Marketplace/SortButtons'\r\nimport NftList from 'components/Marketplace/NftList'\r\nimport {\r\n  useCollections,\r\n  useCollectionAttributes,\r\n  useERC721TokenCount,\r\n  useERC721Tokens,\r\n  useERC721RecentEventsLite,\r\n} from 'hooks/api'\r\nimport {\r\n  useGetMyCollections,\r\n  useNumTokenListings,\r\n  useTokenListings,\r\n  useGetMyTokenIds,\r\n  useNumTokenWithBids,\r\n  useTokenHighestBids,\r\n} from 'hooks/useNftMarketplace'\r\nimport { useETHBalance, useWcoreBalance } from 'hooks/useTokenBalance'\r\n\r\nconst Background = styled.div<any>`\r\n  width: 100%;\r\n  min-height: calc(100vh - 64px);\r\n  background: ${({ theme }) => theme.colors.card};\r\n`\r\nconst MyNftsHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 25px 85px;\r\n  background: ${({ theme }) => theme.colors.card};\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 24px;\r\n  }\r\n\r\n  .back-wrap {\r\n    display: flex;\r\n    align-items: center;\r\n    img {\r\n      margin-right: 20px;\r\n    }\r\n    > div {\r\n      font-weight: 500;\r\n      font-size: 16px;\r\n      color: ${({ theme }) => theme.colors.text};\r\n    }\r\n  }\r\n\r\n  .btn-wrap {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .circle-btn {\r\n      width: 40px;\r\n      height: 40px;\r\n      background: ${({ theme }) => theme.colors.card};\r\n      border-radius: 50%;\r\n      padding: 6px;\r\n    }\r\n    button:not(:last-child) {\r\n      margin-right: 24px;\r\n    }\r\n  }\r\n`\r\n\r\nconst WalletInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  padding: 0 85px;\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    padding: 0 24px;\r\n  }\r\n  .wallet-address-wrap {\r\n    .wallet-icon-wrap {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 10px;\r\n\r\n      img {\r\n        margin-right: 12px;\r\n      }\r\n      > div {\r\n        font-weight: 400;\r\n        font-size: 12px;\r\n        color: ${({ theme }) => theme.colors.text};\r\n      }\r\n    }\r\n\r\n    .wallet-address {\r\n      font-weight: 400;\r\n      color: ${({ theme }) => theme.colors.text};\r\n    }\r\n  }\r\n\r\n  .wallet-balance-wrap {\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100%;\r\n    max-width: 544px;\r\n    background: ${({ theme }) => theme.colors.card};\r\n    box-shadow: 0px 4px 10px rgba(105, 105, 105, 0.15);\r\n    border-radius: 16px;\r\n    padding: 20px;\r\n\r\n    .balance-wrap {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      .label {\r\n        font-weight: 400;\r\n        font-size: 12px;\r\n        color: ${({ theme }) => theme.colors.text};\r\n        margin-bottom: 4px;\r\n      }\r\n\r\n      .value {\r\n        font-weight: 600;\r\n        font-size: 16px;\r\n        color: ${({ theme }) => theme.colors.text};\r\n      }\r\n    }\r\n    .balance-wrap:first-child {\r\n      margin-right: 108px;\r\n    }\r\n  }\r\n`\r\n\r\nconst MyCollectionWrap = styled.div`\r\n  width: 100%;\r\n\r\n  .collection-info-wrap {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 40px 85px;\r\n    @media (max-width: 768px) {\r\n      padding: 24px;\r\n    }\r\n    @media (max-width: 568px) {\r\n      flex-direction: column;\r\n    }\r\n    .collection-info {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      img {\r\n        width: 100px;\r\n        height: 100px;\r\n        border-radius: 50%;\r\n        margin-right: 16px;\r\n      }\r\n\r\n      .collection-name {\r\n        font-weight: 600;\r\n        font-size: 24px;\r\n        color: ${({ theme }) => theme.colors.text};\r\n        margin-bottom: 16px;\r\n      }\r\n      button {\r\n        height: 41px;\r\n        background-color: #ecedf0;\r\n        border-radius: 12px;\r\n        font-weight: 600;\r\n        font-size: 16px;\r\n        color: #999999;\r\n        padding: 8px 36px;\r\n      }\r\n    }\r\n\r\n    .collapse-btn {\r\n      height: 48px;\r\n      display: flex;\r\n      align-items: center;\r\n      background-color: transparent;\r\n      border: 1px solid #3960c1;\r\n      border-radius: 12px;\r\n      box-sizing: border-box;\r\n      padding: 12px 27px;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: #3960c1;\r\n      cursor: pointer;\r\n\r\n      @media (max-width: 568px) {\r\n        margin-top: 24px;\r\n      }\r\n\r\n      img {\r\n        margin-left: 22px;\r\n      }\r\n    }\r\n  }\r\n`\r\nconst getEllipsis = (str) => {\r\n  return `${str.slice(0, 6)}...${str.slice(-4)}`\r\n}\r\n\r\nconst MyNfts: React.FC = () => {\r\n  const { isDark } = useTheme()\r\n  const { account } = useWeb3React()\r\n\r\n  const collections = useCollections()\r\n  const _myCollections: any = useGetMyCollections(collections)\r\n  const coreBalance = useETHBalance()\r\n  const wcoreBalance = useWcoreBalance()\r\n\r\n  const [collectionInfo, setCollectionInfo] = useState<any>({})\r\n  const [MyCollections, setMyCollections] = useState([])\r\n\r\n  const [tokenCountInput, setTokenCountInput] = useState<any>({\r\n    filters: {\r\n      traits: [],\r\n    },\r\n  })\r\n  const [traitFilter, setTraitFilter] = useState<any>([])\r\n  const [tokenIds, setTokenIds] = useState([])\r\n  const [totalCount, setTotalCount] = useState(0)\r\n  const [page, setPage] = useState(1)\r\n  const [tabType, setTabType] = useState('All')\r\n  const [sortType, setSortType] = useState('')\r\n  const [latestSoldTokens, setLatestSoldTokens] = useState([])\r\n\r\n  const attributeInfo: any = useCollectionAttributes(collectionInfo.alias)\r\n  const tokenCountInfo: any = useERC721TokenCount({\r\n    alias: collectionInfo.alias,\r\n    ...tokenCountInput,\r\n    pageSize: collectionInfo?.totalSupply,\r\n  })\r\n\r\n  const tokensInfo: any = useERC721Tokens({\r\n    alias: collectionInfo.alias,\r\n    filters: {\r\n      tokenIds,\r\n    },\r\n    // pageSize: collectionInfo?.totalSupply,\r\n  })\r\n\r\n  const soldTokens: any = useERC721RecentEventsLite(\r\n    tabType === 'Sold'\r\n      ? {\r\n          chainId: collectionInfo?.chainId,\r\n          tokenAddress: collectionInfo?.address,\r\n          events: ['TokenBought', 'TokenBidAccepted'],\r\n          limit: collectionInfo?.totalSupply,\r\n        }\r\n      : {},\r\n  )\r\n\r\n  const totalListingNum: any = useNumTokenListings(collectionInfo?.address)\r\n  const tokenListing: any = useTokenListings(collectionInfo?.address, totalListingNum)\r\n  const myTokenIds: any = useGetMyTokenIds(collectionInfo?.address, 'on')\r\n  const [totalTokenBid, getTokenWithBids]: any = useNumTokenWithBids()\r\n  const [tokenHighestBids, getTokenHighestBids]: any = useTokenHighestBids()\r\n\r\n  useEffect(() => {\r\n    setMyCollections(_myCollections)\r\n  }, [_myCollections])\r\n\r\n  useEffect(() => {\r\n    if (tabType === 'Offers' && collectionInfo.address) {\r\n      getTokenWithBids(collectionInfo?.address)\r\n    }\r\n  }, [tabType, collectionInfo, getTokenWithBids])\r\n\r\n  useEffect(() => {\r\n    if (tabType === 'Offers' && collectionInfo.address && totalTokenBid) {\r\n      getTokenHighestBids(collectionInfo?.address, totalTokenBid)\r\n    }\r\n  }, [tabType, collectionInfo, totalTokenBid, getTokenHighestBids])\r\n\r\n  useEffect(() => {\r\n    if (tokenCountInfo && tokenCountInfo.tokens) {\r\n      let tokens = []\r\n      if (tabType === 'All') {\r\n        // eslint-disable-next-line prefer-destructuring\r\n        tokens = tokenCountInfo.tokens\r\n      } else if (tabType === 'Listing') {\r\n        if (sortType === 'price_lowest' || sortType === 'price_highest') {\r\n          tokens = tokenListing\r\n            .filter(\r\n              (t: any) => tokenCountInfo.tokens.findIndex((tl: any) => tl.tokenId === t.tokenId.toString(10)) !== -1,\r\n            )\r\n            .sort((a: any, b: any) => {\r\n              if (sortType === 'price_lowest') {\r\n                if (new BigNumber(a.value).isLessThan(b.value)) {\r\n                  return -1\r\n                }\r\n                if (new BigNumber(a.value).isGreaterThan(b.value)) {\r\n                  return 1\r\n                }\r\n              } else if (sortType === 'price_highest') {\r\n                if (new BigNumber(b.value).isLessThan(a.value)) {\r\n                  return -1\r\n                }\r\n                if (new BigNumber(b.value).isGreaterThan(a.value)) {\r\n                  return 1\r\n                }\r\n              }\r\n              return 0\r\n            })\r\n        } else {\r\n          tokens = tokenCountInfo.tokens.filter(\r\n            (t: any) => tokenListing.findIndex((tl: any) => tl.tokenId.toString(10) === t.tokenId) !== -1,\r\n          )\r\n        }\r\n      } else if (tabType === 'Offers') {\r\n        if (sortType === 'price_lowest' || sortType === 'price_highest') {\r\n          tokens = tokenHighestBids\r\n            .filter(\r\n              (t: any) => tokenCountInfo.tokens.findIndex((tl: any) => tl.tokenId === t.tokenId.toString(10)) !== -1,\r\n            )\r\n            .sort((a: any, b: any) => {\r\n              if (sortType === 'price_lowest') {\r\n                if (new BigNumber(a.value).isLessThan(b.value)) {\r\n                  return -1\r\n                }\r\n                if (new BigNumber(a.value).isGreaterThan(b.value)) {\r\n                  return 1\r\n                }\r\n              } else if (sortType === 'price_highest') {\r\n                if (new BigNumber(b.value).isLessThan(a.value)) {\r\n                  return -1\r\n                }\r\n                if (new BigNumber(b.value).isGreaterThan(a.value)) {\r\n                  return 1\r\n                }\r\n              }\r\n              return 0\r\n            })\r\n        } else {\r\n          tokens = tokenCountInfo.tokens.filter(\r\n            (t: any) => tokenHighestBids.findIndex((tl: any) => tl.tokenId.toString(10) === t.tokenId) !== -1,\r\n          )\r\n        }\r\n      } else if (tabType === 'Sold') {\r\n        const _latestSoldToken: any = []\r\n        soldTokens.map((t: any) => {\r\n          if (_latestSoldToken.findIndex((lt: any) => lt.tokenId === t.tokenId) === -1) {\r\n            _latestSoldToken.push(t)\r\n          }\r\n          return true\r\n        })\r\n        setLatestSoldTokens(soldTokens)\r\n        if (sortType === 'sold_latest' || sortType === 'price_lowest' || sortType === 'price_highest') {\r\n          tokens = _latestSoldToken\r\n            .filter((t: any) => tokenCountInfo.tokens.findIndex((tl: any) => tl.tokenId === t.tokenId) !== -1)\r\n            .sort((a: any, b: any) => {\r\n              if (sortType === 'sold_latest') {\r\n                if (new BigNumber(b.timestamp).isLessThan(a.timestamp)) {\r\n                  return -1\r\n                }\r\n                if (new BigNumber(b.timestamp).isGreaterThan(a.timestamp)) {\r\n                  return 1\r\n                }\r\n              } else if (sortType === 'price_lowest') {\r\n                if (new BigNumber(a.valueNum).isLessThan(b.valueNum)) {\r\n                  return -1\r\n                }\r\n                if (new BigNumber(a.valueNum).isGreaterThan(b.valueNum)) {\r\n                  return 1\r\n                }\r\n              } else if (sortType === 'price_highest') {\r\n                if (new BigNumber(b.valueNum).isLessThan(a.valueNum)) {\r\n                  return -1\r\n                }\r\n                if (new BigNumber(b.valueNum).isGreaterThan(a.valueNum)) {\r\n                  return 1\r\n                }\r\n              }\r\n              return 0\r\n            })\r\n        } else {\r\n          tokens = tokenCountInfo.tokens.filter(\r\n            (t: any) => _latestSoldToken.findIndex((tl: any) => tl.tokenId === t.tokenId) !== -1,\r\n          )\r\n        }\r\n      }\r\n      tokens = tokens.filter((t: any) => myTokenIds.includes(t.tokenId))\r\n      setTotalCount(tokens.length)\r\n      const _tokenIds = tokens\r\n        .filter((_: any, idx: any) => idx < page * 20 && idx >= (page - 1) * 20)\r\n        .map((t: any) => t.tokenId)\r\n\r\n      if (_tokenIds.length !== 0) {\r\n        setTokenIds(_tokenIds)\r\n      }\r\n    }\r\n  }, [tabType, sortType, myTokenIds, page, tokenCountInfo, tokenListing, tokenHighestBids, soldTokens])\r\n\r\n  const handleSort = (sort: any) => {\r\n    setSortType(sort)\r\n    const orderBy: any = {}\r\n    if (sort === 'lowest') {\r\n      orderBy.direction = 'asc'\r\n      orderBy.key = 'tokenId'\r\n    } else if (sort === 'highest') {\r\n      orderBy.direction = 'desc'\r\n      orderBy.key = 'tokenId'\r\n    } else if (sort === 'rare') {\r\n      orderBy.direction = 'asc'\r\n      orderBy.key = 'rarityRank'\r\n    } else if (sort === 'common') {\r\n      orderBy.direction = 'desc'\r\n      orderBy.key = 'rarityRank'\r\n    }\r\n\r\n    setTokenCountInput({\r\n      ...tokenCountInput,\r\n      orderBy,\r\n    })\r\n\r\n    setPage(1)\r\n  }\r\n\r\n  const handleActivityListing = (type: any) => {\r\n    setTabType(type)\r\n    setPage(1)\r\n  }\r\n\r\n  const handleTraits = (traitData: any) => {\r\n    setTraitFilter(traitData)\r\n    setTokenCountInput({\r\n      ...tokenCountInput,\r\n      filters: {\r\n        ...tokenCountInput.filters,\r\n        traits: traitData,\r\n      },\r\n    })\r\n    setPage(1)\r\n  }\r\n\r\n  const handleLoadMore = () => {\r\n    if ((tokensInfo?.tokens || []).length !== 0) {\r\n      setTimeout(() => {\r\n        setPage(page + 1)\r\n      }, 1000)\r\n    }\r\n  }\r\n\r\n  const handleCollapse = (collection, idx) => {\r\n    MyCollections[idx].isOpen = !MyCollections[idx].isOpen\r\n    setMyCollections([...MyCollections])\r\n    setCollectionInfo(collection)\r\n  }\r\n\r\n  return (\r\n    <Background isDark={isDark}>\r\n      <MyNftsHeader>\r\n        <Link to=\"/marketplace\">\r\n          <div className=\"back-wrap\">\r\n            <img src=\"/images/nfts/marketplace/back.svg\" alt=\"back\" />\r\n            <div>All Collections</div>\r\n          </div>\r\n        </Link>\r\n        <div className=\"btn-wrap\">\r\n          {/* <Button className=\"circle-btn\">\r\n            <img src=\"/images/nfts/marketplace/analytic.svg\" alt=\"analytic\" />\r\n          </Button>\r\n          <Button className=\"circle-btn\">\r\n            <img src=\"/images/nfts/marketplace/search.svg\" alt=\"analytic\" />\r\n          </Button> */}\r\n        </div>\r\n      </MyNftsHeader>\r\n      <WalletInfo>\r\n        <div className=\"wallet-address-wrap\">\r\n          <div className=\"wallet-icon-wrap\">\r\n            <img src=\"/images/nfts/marketplace/wallet.svg\" alt=\"wallet\" />\r\n            <div>Wallet address</div>\r\n          </div>\r\n          <div className=\"wallet-address\">{account ? getEllipsis(account) : ''}</div>\r\n        </div>\r\n        <div className=\"wallet-balance-wrap\">\r\n          <div className=\"balance-wrap\">\r\n            <div className=\"label\">CORE Balance</div>\r\n            <div className=\"value\">\r\n              {coreBalance\r\n                .div(10 ** 18)\r\n                .dp(2, 1)\r\n                .toString()}{' '}\r\n              CORE\r\n            </div>\r\n          </div>\r\n          <div className=\"balance-wrap\">\r\n            <div className=\"label\">WCORE Balance</div>\r\n            <div className=\"value\">\r\n              {wcoreBalance\r\n                .div(10 ** 18)\r\n                .dp(2, 1)\r\n                .toString()}{' '}\r\n              WCORE\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </WalletInfo>\r\n      {MyCollections.map((collection, idx) => (\r\n        <MyCollectionWrap key={collection.name}>\r\n          <div className=\"collection-info-wrap\">\r\n            <div className=\"collection-info\">\r\n              <img src={collection.bannerUrl} alt=\"banner\" />\r\n              <div>\r\n                <div className=\"collection-name\">{collection.name}</div>\r\n                <Link to={`/marketplace/${collectionInfo.alias}`}>\r\n                  <Button>View on Marketplace</Button>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            <Button className=\"collapse-btn\" onClick={() => handleCollapse(collection, idx)}>\r\n              {collection.isOpen ? 'Close' : 'Open'}\r\n              <img\r\n                src={\r\n                  collection.isOpen\r\n                    ? '/images/nfts/marketplace/arrow-up.svg'\r\n                    : '/images/nfts/marketplace/arrow-down.svg'\r\n                }\r\n                alt=\"arrow\"\r\n              />\r\n            </Button>\r\n          </div>\r\n          <Collapse isOpened={collection.isOpen}>\r\n            <CategoryTab onActivityListing={handleActivityListing} />\r\n            <SortButtons\r\n              tabType={tabType}\r\n              collectionInfo={collectionInfo}\r\n              attributeInfo={attributeInfo}\r\n              traitFilter={traitFilter}\r\n              onSort={handleSort}\r\n              onChangeTraits={handleTraits}\r\n            />\r\n            <NftList\r\n              isToggle={false}\r\n              tabType={tabType}\r\n              page={page}\r\n              collectionInfo={collectionInfo}\r\n              tokensInfo={tokensInfo}\r\n              tokenListing={tokenListing}\r\n              tokenHighestBids={tokenHighestBids}\r\n              latestSoldTokens={latestSoldTokens}\r\n              totalCount={totalCount}\r\n              loadMore={handleLoadMore}\r\n            />\r\n          </Collapse>\r\n        </MyCollectionWrap>\r\n      ))}\r\n    </Background>\r\n  )\r\n}\r\n\r\nexport default MyNfts\r\n"],"sourceRoot":""}